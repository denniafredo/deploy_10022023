<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Table with multi-page columns</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Table with multi-page columns</H2>
<H4 class="st">Informations</H4>Author: <A HREF="&#109;ailto:jan&#64;traum-projekt.com?subject=Table%20with%20multi-page%20columns">Jan Slabon</A><BR>License: Freeware
<H4 CLASS="st">Description</H4>Allows you to build a table whose columns can extend over more than one page (requires FPDF 1.51).
Another type of 'Table with MultiCells' script. But it is not able to use $fill yet :(<BR>
<BR>
The _beginpage() method needs to be overriden to solve a problem that occurs when an automatic
page break for one page is reached more than one time.<BR>
<BR>
A solution for the fill problem maybe will be adding extra Rects at the end of all cols
that are not the longest for each row.<BR>
<BR>
have fun<BR>
Jan
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br>define<font class="kw">(</font><font class="str">'FPDF_FONTPATH'</font><font class="kw">,</font><font class="str">'font/'</font><font class="kw">);<br>require(</font><font class="str">'fpdf.php'</font><font class="kw">);<br><br>class&nbsp;</font>PDF&nbsp;<font class="kw">extends&nbsp;</font>FPDF&nbsp;<font class="kw">{<br><br>var&nbsp;</font>$tablewidths<font class="kw">;<br>var&nbsp;</font>$footerset<font class="kw">;<br><br>function&nbsp;</font>PDF<font class="kw">(</font>$orientation<font class="kw">=</font><font class="str">'P'</font><font class="kw">,</font>$unit<font class="kw">=</font><font class="str">'mm'</font><font class="kw">,</font>$format<font class="kw">=</font><font class="str">'A4'</font><font class="kw">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Call parent constructor<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>FPDF<font class="kw">(</font>$orientation<font class="kw">,</font>$unit<font class="kw">,</font>$format<font class="kw">);<br>}<br><br>function&nbsp;</font>_beginpage<font class="kw">(</font>$orientation<font class="kw">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>page<font class="kw">++;<br>&nbsp;&nbsp;&nbsp;&nbsp;if(!</font>$<font class="kw">this-&gt;</font>pages<font class="kw">[</font>$<font class="kw">this-&gt;</font>page<font class="kw">])&nbsp;</font><font class="cmt">// solved the problem of overwriting a page, if it already exists<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>pages<font class="kw">[</font>$<font class="kw">this-&gt;</font>page<font class="kw">]=</font><font class="str">''</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>state<font class="kw">=</font>2<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>x<font class="kw">=</font>$<font class="kw">this-&gt;</font>lMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>y<font class="kw">=</font>$<font class="kw">this-&gt;</font>tMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>lasth<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>FontFamily<font class="kw">=</font><font class="str">''</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Page orientation<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(!</font>$orientation<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$orientation<font class="kw">=</font>$<font class="kw">this-&gt;</font>DefOrientation<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$orientation<font class="kw">=</font>strtoupper<font class="kw">(</font>$orientation<font class="kw">{</font>0<font class="kw">});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$orientation<font class="kw">!=</font>$<font class="kw">this-&gt;</font>DefOrientation<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>OrientationChanges<font class="kw">[</font>$<font class="kw">this-&gt;</font>page<font class="kw">]=</font>true<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$orientation<font class="kw">!=</font>$<font class="kw">this-&gt;</font>CurOrientation<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Change orientation<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(</font>$orientation<font class="kw">==</font><font class="str">'P'</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>wPt<font class="kw">=</font>$<font class="kw">this-&gt;</font>fwPt<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>hPt<font class="kw">=</font>$<font class="kw">this-&gt;</font>fhPt<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>w<font class="kw">=</font>$<font class="kw">this-&gt;</font>fw<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>h<font class="kw">=</font>$<font class="kw">this-&gt;</font>fh<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>wPt<font class="kw">=</font>$<font class="kw">this-&gt;</font>fhPt<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>hPt<font class="kw">=</font>$<font class="kw">this-&gt;</font>fwPt<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>w<font class="kw">=</font>$<font class="kw">this-&gt;</font>fh<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>h<font class="kw">=</font>$<font class="kw">this-&gt;</font>fw<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>PageBreakTrigger<font class="kw">=</font>$<font class="kw">this-&gt;</font>h<font class="kw">-</font>$<font class="kw">this-&gt;</font>bMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>CurOrientation<font class="kw">=</font>$orientation<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>function&nbsp;</font>Footer<font class="kw">()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Check if Footer for this page already exists (do the same for Header())<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(!</font>$<font class="kw">this-&gt;</font>footerset<font class="kw">[</font>$<font class="kw">this-&gt;</font>page<font class="kw">])&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetY<font class="kw">(-</font>15<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Page number<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>0<font class="kw">,</font>10<font class="kw">,</font><font class="str">'Page '</font><font class="kw">.</font>$<font class="kw">this-&gt;</font>PageNo<font class="kw">().</font><font class="str">'/{nb}'</font><font class="kw">,</font>0<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// set footerset<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>footerset<font class="kw">[</font>$<font class="kw">this-&gt;</font>page<font class="kw">]&nbsp;=&nbsp;</font>1<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>function&nbsp;</font>morepagestable<font class="kw">(</font>$datas<font class="kw">,</font>$lineheight<font class="kw">=</font>8<font class="kw">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// some things to set and 'remember'<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$l&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>lMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$startheight&nbsp;<font class="kw">=&nbsp;</font>$h&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>GetY<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$startpage&nbsp;<font class="kw">=&nbsp;</font>$currpage&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>page<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// calculate the whole width<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">foreach(</font>$<font class="kw">this-&gt;</font>tablewidths&nbsp;<font class="kw">AS&nbsp;</font>$width<font class="kw">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$fullwidth&nbsp;<font class="kw">+=&nbsp;</font>$width<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Now let's start to write the table<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">foreach(</font>$datas&nbsp;<font class="kw">AS&nbsp;</font>$row&nbsp;<font class="kw">=&gt;&nbsp;</font>$data<font class="kw">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>page&nbsp;<font class="kw">=&nbsp;</font>$currpage<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// write the horizontal borders<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line<font class="kw">(</font>$l<font class="kw">,</font>$h<font class="kw">,</font>$fullwidth<font class="kw">+</font>$l<font class="kw">,</font>$h<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// write the content and remember the height of the highest col<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">foreach(</font>$data&nbsp;<font class="kw">AS&nbsp;</font>$col&nbsp;<font class="kw">=&gt;&nbsp;</font>$txt<font class="kw">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>page&nbsp;<font class="kw">=&nbsp;</font>$currpage<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetXY<font class="kw">(</font>$l<font class="kw">,</font>$h<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>MultiCell<font class="kw">(</font>$<font class="kw">this-&gt;</font>tablewidths<font class="kw">[</font>$col<font class="kw">],</font>$lineheight<font class="kw">,</font>$txt<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$l&nbsp;<font class="kw">+=&nbsp;</font>$<font class="kw">this-&gt;</font>tablewidths<font class="kw">[</font>$col<font class="kw">];<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$tmpheight<font class="kw">[</font>$row<font class="kw">.</font><font class="str">'-'</font><font class="kw">.</font>$<font class="kw">this-&gt;</font>page<font class="kw">]&nbsp;&lt;&nbsp;</font>$<font class="kw">this-&gt;</font>GetY<font class="kw">())&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tmpheight<font class="kw">[</font>$row<font class="kw">.</font><font class="str">'-'</font><font class="kw">.</font>$<font class="kw">this-&gt;</font>page<font class="kw">]&nbsp;=&nbsp;</font>$<font class="kw">this-&gt;</font>GetY<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>page&nbsp;<font class="kw">&gt;&nbsp;</font>$maxpage<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$maxpage&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>page<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// get the height we were in the last used page<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$h&nbsp;<font class="kw">=&nbsp;</font>$tmpheight<font class="kw">[</font>$row<font class="kw">.</font><font class="str">'-'</font><font class="kw">.</font>$maxpage<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// set the "pointer" to the left margin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$l&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>lMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// set the $currpage to the last page<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$currpage&nbsp;<font class="kw">=&nbsp;</font>$maxpage<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// draw the borders<br>&nbsp;&nbsp;&nbsp;&nbsp;// we start adding a horizontal line on the last page<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>page&nbsp;<font class="kw">=&nbsp;</font>$maxpage<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line<font class="kw">(</font>$l<font class="kw">,</font>$h<font class="kw">,</font>$fullwidth<font class="kw">+</font>$l<font class="kw">,</font>$h<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// now we start at the top of the document and walk down<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">for(</font>$i&nbsp;<font class="kw">=&nbsp;</font>$startpage<font class="kw">;&nbsp;</font>$i&nbsp;<font class="kw">&lt;=&nbsp;</font>$maxpage<font class="kw">;&nbsp;</font>$i<font class="kw">++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>page&nbsp;<font class="kw">=&nbsp;</font>$i<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$l&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>lMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$t&nbsp;&nbsp;<font class="kw">=&nbsp;(</font>$i&nbsp;<font class="kw">==&nbsp;</font>$startpage<font class="kw">)&nbsp;?&nbsp;</font>$startheight&nbsp;<font class="kw">:&nbsp;</font>$<font class="kw">this-&gt;</font>tMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$lh&nbsp;<font class="kw">=&nbsp;(</font>$i&nbsp;<font class="kw">==&nbsp;</font>$maxpage<font class="kw">)&nbsp;&nbsp;&nbsp;?&nbsp;</font>$h&nbsp;<font class="kw">:&nbsp;</font>$<font class="kw">this-&gt;</font>h<font class="kw">-</font>$<font class="kw">this-&gt;</font>bMargin<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line<font class="kw">(</font>$l<font class="kw">,</font>$t<font class="kw">,</font>$l<font class="kw">,</font>$lh<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</font>$<font class="kw">this-&gt;</font>tablewidths&nbsp;<font class="kw">AS&nbsp;</font>$width<font class="kw">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$l&nbsp;<font class="kw">+=&nbsp;</font>$width<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line<font class="kw">(</font>$l<font class="kw">,</font>$t<font class="kw">,</font>$l<font class="kw">,</font>$lh<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// set it to the last page, if not it'll cause some problems<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>page&nbsp;<font class="kw">=&nbsp;</font>$maxpage<font class="kw">;<br>}<br><br>}<br><br>function&nbsp;</font>GenerateWord<font class="kw">()<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Get a random word<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$nb<font class="kw">=</font>rand<font class="kw">(</font>3<font class="kw">,</font>10<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$w<font class="kw">=</font><font class="str">''</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$i<font class="kw">=</font>1<font class="kw">;</font>$i<font class="kw">&lt;=</font>$nb<font class="kw">;</font>$i<font class="kw">++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$w<font class="kw">.=</font>chr<font class="kw">(</font>rand<font class="kw">(</font>ord<font class="kw">(</font><font class="str">'a'</font><font class="kw">),</font>ord<font class="kw">(</font><font class="str">'z'</font><font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font>$w<font class="kw">;<br>}<br><br>function&nbsp;</font>GenerateSentence<font class="kw">(</font>$words<font class="kw">=</font><font class="str">"500"</font><font class="kw">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Get a random sentence<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$nb<font class="kw">=</font>rand<font class="kw">(</font>20<font class="kw">,</font>$words<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$s<font class="kw">=</font><font class="str">''</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$i<font class="kw">=</font>1<font class="kw">;</font>$i<font class="kw">&lt;=</font>$nb<font class="kw">;</font>$i<font class="kw">++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$s<font class="kw">.=</font>GenerateWord<font class="kw">().</font><font class="str">' '</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font>substr<font class="kw">(</font>$s<font class="kw">,</font>0<font class="kw">,-</font>1<font class="kw">);<br>}<br><br></font>$pdf&nbsp;<font class="kw">=&nbsp;new&nbsp;</font>PDF<font class="kw">(</font><font class="str">'P'</font><font class="kw">,</font><font class="str">'pt'</font><font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Open<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AliasNbPages<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>SetFont<font class="kw">(</font><font class="str">'Arial'</font><font class="kw">,</font><font class="str">'B'</font><font class="kw">,</font>12<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>MultiCell<font class="kw">(</font>0<font class="kw">,</font>20<font class="kw">,</font><font class="str">'Example to build Tables over more than one Page.'</font><font class="kw">);<br></font><font class="cmt">// set the tablewidths like this or write an extra function<br></font>$pdf<font class="kw">-&gt;</font>tablewidths&nbsp;<font class="kw">=&nbsp;array(</font>90<font class="kw">,</font>90<font class="kw">,</font>90<font class="kw">,</font>90<font class="kw">,</font>90<font class="kw">,</font>90<font class="kw">);<br><br></font>srand<font class="kw">(</font>microtime<font class="kw">()*</font>1000000<font class="kw">);<br>for(</font>$i<font class="kw">=</font>0<font class="kw">;&nbsp;</font>$i&nbsp;<font class="kw">&lt;&nbsp;</font>4<font class="kw">;&nbsp;</font>$i<font class="kw">++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$datas<font class="kw">[]&nbsp;=&nbsp;array(</font>GenerateSentence<font class="kw">(),</font>GenerateSentence<font class="kw">(),</font>GenerateSentence<font class="kw">(),</font>GenerateSentence<font class="kw">(),</font>GenerateSentence<font class="kw">(),</font>GenerateSentence<font class="kw">());<br>}<br><br></font>$pdf<font class="kw">-&gt;</font>SetFont<font class="kw">(</font><font class="str">'Arial'</font><font class="kw">,</font><font class="str">''</font><font class="kw">,</font>6<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>morepagestable<font class="kw">(</font>$datas<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="morepagestable.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script12.zip">ZIP</A> | <A HREF="script12.tgz">TGZ</A>
</BODY>
</HTML>
