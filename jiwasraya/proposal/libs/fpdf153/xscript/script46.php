<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Code 39 barcodes</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Code 39 barcodes</H2>
<H4 CLASS="st">Informations</H4>Author: The-eh<BR>License: Freeware
<H4 CLASS="st">Description</H4>This script implements Code 39 barcodes. A Code 39 barcode can encode a string with
the following characters: digits (0 to 9), uppercase letters (A to Z) and 8 additional
characters (- . space $ / + % *).<BR>
<BR>
<TT>Code39(<B>float</B> xpos, <B>float</B> ypos, <B>string</B> code [, <B>float</B> baseline [, <B>float</B> height]])</TT><BR>
<BR>
<TT><U>xpos</U></TT>: abscissa of barcode<BR>
<TT><U>ypos</U></TT>: ordinate of barcode<BR>
<TT><U>code</U></U></TT>: value of barcode<BR>
<TT><U>baseline</U></TT>: corresponds to the width of a wide bar (defaults to 0.5)<BR>
<TT><U>height</U></TT>: bar height (defaults to 5)
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require(</font><font class="str">'fpdf.php'</font><font class="kw">);<br><br>class </font>PDF_Code39 <font class="kw">extends </font>FPDF<br><font class="kw">{<br>function </font>Code39<font class="kw">(</font>$xpos<font class="kw">, </font>$ypos<font class="kw">, </font>$code<font class="kw">, </font>$baseline<font class="kw">=</font>0.5<font class="kw">, </font>$height<font class="kw">=</font>5<font class="kw">){<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$wide <font class="kw">= </font>$baseline<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$narrow <font class="kw">= </font>$baseline <font class="kw">/ </font>3 <font class="kw">; <br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$gap <font class="kw">= </font>$narrow<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'0'</font><font class="kw">] = </font><font class="str">'nnnwwnwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'1'</font><font class="kw">] = </font><font class="str">'wnnwnnnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'2'</font><font class="kw">] = </font><font class="str">'nnwwnnnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'3'</font><font class="kw">] = </font><font class="str">'wnwwnnnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'4'</font><font class="kw">] = </font><font class="str">'nnnwwnnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'5'</font><font class="kw">] = </font><font class="str">'wnnwwnnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'6'</font><font class="kw">] = </font><font class="str">'nnwwwnnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'7'</font><font class="kw">] = </font><font class="str">'nnnwnnwnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'8'</font><font class="kw">] = </font><font class="str">'wnnwnnwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'9'</font><font class="kw">] = </font><font class="str">'nnwwnnwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'A'</font><font class="kw">] = </font><font class="str">'wnnnnwnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'B'</font><font class="kw">] = </font><font class="str">'nnwnnwnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'C'</font><font class="kw">] = </font><font class="str">'wnwnnwnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'D'</font><font class="kw">] = </font><font class="str">'nnnnwwnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'E'</font><font class="kw">] = </font><font class="str">'wnnnwwnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'F'</font><font class="kw">] = </font><font class="str">'nnwnwwnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'G'</font><font class="kw">] = </font><font class="str">'nnnnnwwnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'H'</font><font class="kw">] = </font><font class="str">'wnnnnwwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'I'</font><font class="kw">] = </font><font class="str">'nnwnnwwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'J'</font><font class="kw">] = </font><font class="str">'nnnnwwwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'K'</font><font class="kw">] = </font><font class="str">'wnnnnnnww'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'L'</font><font class="kw">] = </font><font class="str">'nnwnnnnww'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'M'</font><font class="kw">] = </font><font class="str">'wnwnnnnwn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'N'</font><font class="kw">] = </font><font class="str">'nnnnwnnww'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'O'</font><font class="kw">] = </font><font class="str">'wnnnwnnwn'</font><font class="kw">; <br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'P'</font><font class="kw">] = </font><font class="str">'nnwnwnnwn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'Q'</font><font class="kw">] = </font><font class="str">'nnnnnnwww'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'R'</font><font class="kw">] = </font><font class="str">'wnnnnnwwn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'S'</font><font class="kw">] = </font><font class="str">'nnwnnnwwn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'T'</font><font class="kw">] = </font><font class="str">'nnnnwnwwn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'U'</font><font class="kw">] = </font><font class="str">'wwnnnnnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'V'</font><font class="kw">] = </font><font class="str">'nwwnnnnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'W'</font><font class="kw">] = </font><font class="str">'wwwnnnnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'X'</font><font class="kw">] = </font><font class="str">'nwnnwnnnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'Y'</font><font class="kw">] = </font><font class="str">'wwnnwnnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'Z'</font><font class="kw">] = </font><font class="str">'nwwnwnnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'-'</font><font class="kw">] = </font><font class="str">'nwnnnnwnw'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'.'</font><font class="kw">] = </font><font class="str">'wwnnnnwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">' '</font><font class="kw">] = </font><font class="str">'nwwnnnwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'*'</font><font class="kw">] = </font><font class="str">'nwnnwnwnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'$'</font><font class="kw">] = </font><font class="str">'nwnwnwnnn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'/'</font><font class="kw">] = </font><font class="str">'nwnwnnnwn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'+'</font><font class="kw">] = </font><font class="str">'nwnnnwnwn'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar<font class="kw">[</font><font class="str">'%'</font><font class="kw">] = </font><font class="str">'nnnwnwnwn'</font><font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font><font class="str">'Arial'</font><font class="kw">,</font><font class="str">''</font><font class="kw">,</font>10<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">(</font>$xpos<font class="kw">, </font>$ypos <font class="kw">+ </font>$height <font class="kw">+ </font>4<font class="kw">, </font>$code<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFillColor<font class="kw">(</font>0<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$code <font class="kw">= </font><font class="str">'*'</font><font class="kw">.</font>strtoupper<font class="kw">(</font>$code<font class="kw">).</font><font class="str">'*'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$i<font class="kw">=</font>0<font class="kw">; </font>$i<font class="kw">&lt;</font>strlen<font class="kw">(</font>$code<font class="kw">); </font>$i<font class="kw">++){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$char <font class="kw">= </font>$code<font class="kw">{</font>$i<font class="kw">};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!isset(</font>$barChar<font class="kw">[</font>$char<font class="kw">])){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Error<font class="kw">(</font><font class="str">'Invalid character in barcode: '</font><font class="kw">.</font>$char<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$seq <font class="kw">= </font>$barChar<font class="kw">[</font>$char<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$bar<font class="kw">=</font>0<font class="kw">; </font>$bar<font class="kw">&lt;</font>9<font class="kw">; </font>$bar<font class="kw">++){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$seq<font class="kw">{</font>$bar<font class="kw">} == </font><font class="str">'n'</font><font class="kw">){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$lineWidth <font class="kw">= </font>$narrow<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$lineWidth <font class="kw">= </font>$wide<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$bar <font class="kw">% </font>2 <font class="kw">== </font>0<font class="kw">){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Rect<font class="kw">(</font>$xpos<font class="kw">, </font>$ypos<font class="kw">, </font>$lineWidth<font class="kw">, </font>$height<font class="kw">, </font><font class="str">'F'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xpos <font class="kw">+= </font>$lineWidth<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xpos <font class="kw">+= </font>$gap<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br>}<br><br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>

<H4 CLASS="st">Example</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br>define<font class="kw">(</font><font class="str">'FPDF_FONTPATH'</font><font class="kw">,</font><font class="str">'font/'</font><font class="kw">);<br>require(</font><font class="str">'code39.php'</font><font class="kw">);<br><br></font>$pdf<font class="kw">=new </font>PDF_Code39<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>Code39<font class="kw">(</font>80<font class="kw">,</font>40<font class="kw">,</font><font class="str">'CODE 39'</font><font class="kw">,</font>1<font class="kw">,</font>10<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="ex46.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script46.zip">ZIP</A> | <A HREF="script46.tgz">TGZ</A>
</BODY>
</HTML>
