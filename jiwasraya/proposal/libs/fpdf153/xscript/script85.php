<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Codabar barcodes</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Codabar barcodes</H2>
<H4 CLASS="st">Informations</H4>Author: <SCRIPT TYPE="text/javascript">document.write('<A H'+'REF="m'+'ailto:fdemoures'+'&#'+'64;'+'sotraig.fr?subject=Codabar%20barcodes">');</SCRIPT>Florence Demoures<SCRIPT TYPE="text/javascript">document.write('<\/A>');</SCRIPT><BR>License: Freeware
<H4 CLASS="st">Description</H4>This script implements Codabar barcodes (also known as NW-7 or Code 2 of 7).<BR>
This barcode allows to encode numeric data (0-9) as well as 6 special characters ($, -, :, /, ., +). It has 8 start/stop
characters available (a, b, c, d, e, *, n, t).<BR>
<BR>
<TT>Codabar(<B>float</B> xpos, <B>float</B> ypos, <B>string</B> code [, <B>char</B> start [, <B>char</B> end [, <B>float</B> baseline [, <B>float</B> height]]]])</TT><BR>
<BR>
<TT>xpos</TT>: abscissa of barcode<BR>
<TT>ypos</TT>: ordinate of barcode<BR>
<TT>code</TT>: value of barcode<BR>
<TT>start</TT>: start character (default value: <TT>a</TT>)<BR>
<TT>end</TT>: stop character (default value: <TT>a</TT>)<BR>
<TT>basewidth</TT>: width of a thin bar (default value: <TT>0.35</TT>)<BR>
<TT>height</TT>: height of bars (default value: <TT>16</TT>)
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require(</font><font class="str">'fpdf.php'</font><font class="kw">);<br><br>class </font>PDF_Codabar <font class="kw">extends </font>FPDF<br><font class="kw">{<br><br>function </font>Codabar <font class="kw">(</font>$xpos<font class="kw">, </font>$ypos<font class="kw">, </font>$code<font class="kw">, </font>$start<font class="kw">=</font><font class="str">'A'</font><font class="kw">,</font>$end<font class="kw">=</font><font class="str">'A'</font><font class="kw">, </font>$basewidth<font class="kw">=</font>0.35<font class="kw">, </font>$height<font class="kw">=</font>16<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$barChar <font class="kw">= array (<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'0' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>24.3<font class="kw">, </font>17.9<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'1' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>17.9<font class="kw">, </font>24.3<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'2' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>10.0<font class="kw">, </font>6.5<font class="kw">, </font>24.4<font class="kw">, </font>6.5<font class="kw">, </font>10.0<font class="kw">, </font>18.6<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'3' </font><font class="kw">=&gt; array (</font>17.9<font class="kw">, </font>24.3<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'4' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>17.9<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>24.3<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'5' </font><font class="kw">=&gt; array (</font>17.9<font class="kw">,&nbsp;&nbsp;&nbsp;&nbsp;</font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>24.3<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'6' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>24.3<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>17.9<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'7' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>24.3<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>17.9<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'8' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>24.3<font class="kw">, </font>17.9<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">, </font>10.4<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'9' </font><font class="kw">=&gt; array (</font>18.6<font class="kw">, </font>10.0<font class="kw">, </font>6.5<font class="kw">, </font>24.4<font class="kw">, </font>6.5<font class="kw">, </font>10.0<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'$' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>10.0<font class="kw">, </font>18.6<font class="kw">, </font>24.4<font class="kw">, </font>6.5<font class="kw">, </font>10.0<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'-' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>10.0<font class="kw">, </font>6.5<font class="kw">, </font>24.4<font class="kw">, </font>18.6<font class="kw">, </font>10.0<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">':' </font><font class="kw">=&gt; array (</font>16.7<font class="kw">, </font>9.3<font class="kw">, </font>6.5<font class="kw">, </font>9.3<font class="kw">, </font>16.7<font class="kw">, </font>9.3<font class="kw">, </font>14.7<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'/' </font><font class="kw">=&gt; array (</font>14.7<font class="kw">, </font>9.3<font class="kw">, </font>16.7<font class="kw">, </font>9.3<font class="kw">, </font>6.5<font class="kw">, </font>9.3<font class="kw">, </font>16.7<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'.' </font><font class="kw">=&gt; array (</font>13.6<font class="kw">, </font>10.1<font class="kw">, </font>14.9<font class="kw">, </font>10.1<font class="kw">, </font>17.2<font class="kw">, </font>10.1<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'+' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>10.1<font class="kw">, </font>17.2<font class="kw">, </font>10.1<font class="kw">, </font>14.9<font class="kw">, </font>10.1<font class="kw">, </font>13.6<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'A' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>19.6<font class="kw">, </font>19.4<font class="kw">, </font>6.5<font class="kw">, </font>16.1<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'T' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>19.6<font class="kw">, </font>19.4<font class="kw">, </font>6.5<font class="kw">, </font>16.1<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'B' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>16.1<font class="kw">, </font>6.5<font class="kw">, </font>19.4<font class="kw">, </font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>19.6<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'N' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>16.1<font class="kw">, </font>6.5<font class="kw">, </font>19.4<font class="kw">, </font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>19.6<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'C' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>6.5<font class="kw">, </font>19.4<font class="kw">, </font>6.5<font class="kw">, </font>16.1<font class="kw">, </font>19.6<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'*' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>6.5<font class="kw">, </font>19.4<font class="kw">, </font>6.5<font class="kw">, </font>16.1<font class="kw">, </font>19.6<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'D' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>6.5<font class="kw">, </font>19.4<font class="kw">, </font>19.6<font class="kw">, </font>16.1<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'E' </font><font class="kw">=&gt; array (</font>6.5<font class="kw">, </font>8.0<font class="kw">, </font>6.5<font class="kw">, </font>19.4<font class="kw">, </font>19.6<font class="kw">, </font>16.1<font class="kw">, </font>6.5<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font><font class="str">'Arial'</font><font class="kw">,</font><font class="str">''</font><font class="kw">,</font>13<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">(</font>$xpos<font class="kw">, </font>$ypos <font class="kw">+ </font>$height <font class="kw">+ </font>4<font class="kw">, </font>$code<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFillColor<font class="kw">(</font>0<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$code <font class="kw">= </font>strtoupper<font class="kw">(</font>$start<font class="kw">.</font>$code<font class="kw">.</font>$end<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$i<font class="kw">=</font>0<font class="kw">; </font>$i<font class="kw">&lt;</font>strlen<font class="kw">(</font>$code<font class="kw">); </font>$i<font class="kw">++){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$char <font class="kw">= </font>$code<font class="kw">[</font>$i<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!isset(</font>$barChar<font class="kw">[</font>$char<font class="kw">])){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Error<font class="kw">(</font><font class="str">'Invalid character in barcode: '</font><font class="kw">.</font>$char<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$seq <font class="kw">= </font>$barChar<font class="kw">[</font>$char<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$bar<font class="kw">=</font>0<font class="kw">; </font>$bar<font class="kw">&lt;</font>7<font class="kw">; </font>$bar<font class="kw">++){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$lineWidth <font class="kw">= </font>$basewidth<font class="kw">*</font>$seq<font class="kw">[</font>$bar<font class="kw">]/</font>6.5<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$bar <font class="kw">% </font>2 <font class="kw">== </font>0<font class="kw">){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Rect<font class="kw">(</font>$xpos<font class="kw">, </font>$ypos<font class="kw">, </font>$lineWidth<font class="kw">, </font>$height<font class="kw">, </font><font class="str">'F'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xpos <font class="kw">+= </font>$lineWidth<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xpos <font class="kw">+= </font>$basewidth<font class="kw">*</font>10.4<font class="kw">/</font>6.5<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br>}</font>
</font>
</code></NOBR></TD></TR></TABLE>

<H4 CLASS="st">Example</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require_once </font><font class="str">'pdf_codabar.php'</font><font class="kw">;<br><br></font>$pdf<font class="kw">=new </font>PDF_Codabar<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>Codabar<font class="kw">(</font>75<font class="kw">,</font>40<font class="kw">,</font><font class="str">'123456789'</font><font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="ex85.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script85.zip">ZIP</A> | <A HREF="script85.tgz">TGZ</A>
</BODY>
</HTML>
