<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Extended Code 39 barcodes</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Extended Code 39 barcodes</H2>
<H4 CLASS="st">Informations</H4>Author: <SCRIPT TYPE="text/javascript">document.write('<A H'+'REF="m'+'ailto:ehavet'+'&#'+'64;'+'yahoo.fr?subject=Extended%20Code%2039%20barcodes">');</SCRIPT>Emmanuel Havet<SCRIPT TYPE="text/javascript">document.write('<\/A>');</SCRIPT><BR>License: Freeware
<H4 CLASS="st">Description</H4>This script supports both standard and extended Code 39 barcodes. The extended mode gives access
to the full ASCII range (from 0 to 127). The script also gives the possibility to add a checksum.<BR>
<BR>
<TT>Code39(<B>float</B> x, <B>float</B> y, <B>string</B> code [, <B>boolean</B> ext [, <B>boolean</B> cks [, <B>float</B> w [, <B>float</B> h [, <B>boolean</B> wide]]]]])</TT><BR>
<BR>
<TT><U>x</U></TT>: abscissa<BR>
<TT><U>y</U></TT>: ordinate<BR>
<TT><U>code</U></TT>: barcode value<BR>
<TT><U>ext</U></TT>: indicates if extended mode must be used (<TT>true</TT> by default)<BR>
<TT><U>cks</U></TT>: indicates if a checksum must be appended (<TT>false</TT> by default)<BR>
<TT><U>w</U></TT>: width of a narrow bar (<TT>0.4</TT> by default)<BR>
<TT><U>h</U></TT>: height of bars (<TT>20</TT> by default)<BR>
<TT><U>wide</U></TT>: indicates if ratio between wide and narrow bars is high; if yes, ratio is 3, if no, it's 2 (<TT>true</TT> by default)
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require(</font><font class="str">'fpdf.php'</font><font class="kw">);<br><br>class </font>PDF_Code39 <font class="kw">extends </font>FPDF <font class="kw">{<br><br>function </font>Code39<font class="kw">(</font>$x<font class="kw">, </font>$y<font class="kw">, </font>$code<font class="kw">, </font>$ext <font class="kw">= </font>true<font class="kw">, </font>$cks <font class="kw">= </font>false<font class="kw">, </font>$w <font class="kw">= </font>0.4<font class="kw">, </font>$h <font class="kw">= </font>20<font class="kw">, </font>$wide <font class="kw">= </font>true<font class="kw">) {<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Display code<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font><font class="str">'Arial'</font><font class="kw">, </font><font class="str">''</font><font class="kw">, </font>10<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">(</font>$x<font class="kw">, </font>$y<font class="kw">+</font>$h<font class="kw">+</font>4<font class="kw">, </font>$code<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$ext<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Extended encoding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$code <font class="kw">= </font>$<font class="kw">this-&gt;</font>encode_code39_ext<font class="kw">(</font>$code<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Convert to upper case<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$code <font class="kw">= </font>strtoupper<font class="kw">(</font>$code<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Check validity<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(!</font>preg_match<font class="kw">(</font><font class="str">'|^[0-9A-Z. $/+%-]*$|'</font><font class="kw">, </font>$code<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Error<font class="kw">(</font><font class="str">'Invalid barcode value: '</font><font class="kw">.</font>$code<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Compute checksum<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if (</font>$cks<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$code <font class="kw">.= </font>$<font class="kw">this-&gt;</font>checksum_code39<font class="kw">(</font>$code<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Add start and stop characters<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$code <font class="kw">= </font><font class="str">'*'</font><font class="kw">.</font>$code<font class="kw">.</font><font class="str">'*'</font><font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Conversion tables<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$narrow_encoding <font class="kw">= array (<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'0' </font><font class="kw">=&gt; </font><font class="str">'101001101101'</font><font class="kw">, </font><font class="str">'1' </font><font class="kw">=&gt; </font><font class="str">'110100101011'</font><font class="kw">, </font><font class="str">'2' </font><font class="kw">=&gt; </font><font class="str">'101100101011'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'3' </font><font class="kw">=&gt; </font><font class="str">'110110010101'</font><font class="kw">, </font><font class="str">'4' </font><font class="kw">=&gt; </font><font class="str">'101001101011'</font><font class="kw">, </font><font class="str">'5' </font><font class="kw">=&gt; </font><font class="str">'110100110101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'6' </font><font class="kw">=&gt; </font><font class="str">'101100110101'</font><font class="kw">, </font><font class="str">'7' </font><font class="kw">=&gt; </font><font class="str">'101001011011'</font><font class="kw">, </font><font class="str">'8' </font><font class="kw">=&gt; </font><font class="str">'110100101101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'9' </font><font class="kw">=&gt; </font><font class="str">'101100101101'</font><font class="kw">, </font><font class="str">'A' </font><font class="kw">=&gt; </font><font class="str">'110101001011'</font><font class="kw">, </font><font class="str">'B' </font><font class="kw">=&gt; </font><font class="str">'101101001011'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'C' </font><font class="kw">=&gt; </font><font class="str">'110110100101'</font><font class="kw">, </font><font class="str">'D' </font><font class="kw">=&gt; </font><font class="str">'101011001011'</font><font class="kw">, </font><font class="str">'E' </font><font class="kw">=&gt; </font><font class="str">'110101100101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'F' </font><font class="kw">=&gt; </font><font class="str">'101101100101'</font><font class="kw">, </font><font class="str">'G' </font><font class="kw">=&gt; </font><font class="str">'101010011011'</font><font class="kw">, </font><font class="str">'H' </font><font class="kw">=&gt; </font><font class="str">'110101001101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'I' </font><font class="kw">=&gt; </font><font class="str">'101101001101'</font><font class="kw">, </font><font class="str">'J' </font><font class="kw">=&gt; </font><font class="str">'101011001101'</font><font class="kw">, </font><font class="str">'K' </font><font class="kw">=&gt; </font><font class="str">'110101010011'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'L' </font><font class="kw">=&gt; </font><font class="str">'101101010011'</font><font class="kw">, </font><font class="str">'M' </font><font class="kw">=&gt; </font><font class="str">'110110101001'</font><font class="kw">, </font><font class="str">'N' </font><font class="kw">=&gt; </font><font class="str">'101011010011'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'O' </font><font class="kw">=&gt; </font><font class="str">'110101101001'</font><font class="kw">, </font><font class="str">'P' </font><font class="kw">=&gt; </font><font class="str">'101101101001'</font><font class="kw">, </font><font class="str">'Q' </font><font class="kw">=&gt; </font><font class="str">'101010110011'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'R' </font><font class="kw">=&gt; </font><font class="str">'110101011001'</font><font class="kw">, </font><font class="str">'S' </font><font class="kw">=&gt; </font><font class="str">'101101011001'</font><font class="kw">, </font><font class="str">'T' </font><font class="kw">=&gt; </font><font class="str">'101011011001'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'U' </font><font class="kw">=&gt; </font><font class="str">'110010101011'</font><font class="kw">, </font><font class="str">'V' </font><font class="kw">=&gt; </font><font class="str">'100110101011'</font><font class="kw">, </font><font class="str">'W' </font><font class="kw">=&gt; </font><font class="str">'110011010101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'X' </font><font class="kw">=&gt; </font><font class="str">'100101101011'</font><font class="kw">, </font><font class="str">'Y' </font><font class="kw">=&gt; </font><font class="str">'110010110101'</font><font class="kw">, </font><font class="str">'Z' </font><font class="kw">=&gt; </font><font class="str">'100110110101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'-' </font><font class="kw">=&gt; </font><font class="str">'100101011011'</font><font class="kw">, </font><font class="str">'.' </font><font class="kw">=&gt; </font><font class="str">'110010101101'</font><font class="kw">, </font><font class="str">' ' </font><font class="kw">=&gt; </font><font class="str">'100110101101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'*' </font><font class="kw">=&gt; </font><font class="str">'100101101101'</font><font class="kw">, </font><font class="str">'$' </font><font class="kw">=&gt; </font><font class="str">'100100100101'</font><font class="kw">, </font><font class="str">'/' </font><font class="kw">=&gt; </font><font class="str">'100100101001'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'+' </font><font class="kw">=&gt; </font><font class="str">'100101001001'</font><font class="kw">, </font><font class="str">'%' </font><font class="kw">=&gt; </font><font class="str">'101001001001' </font><font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$wide_encoding <font class="kw">= array (<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'0' </font><font class="kw">=&gt; </font><font class="str">'101000111011101'</font><font class="kw">, </font><font class="str">'1' </font><font class="kw">=&gt; </font><font class="str">'111010001010111'</font><font class="kw">, </font><font class="str">'2' </font><font class="kw">=&gt; </font><font class="str">'101110001010111'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'3' </font><font class="kw">=&gt; </font><font class="str">'111011100010101'</font><font class="kw">, </font><font class="str">'4' </font><font class="kw">=&gt; </font><font class="str">'101000111010111'</font><font class="kw">, </font><font class="str">'5' </font><font class="kw">=&gt; </font><font class="str">'111010001110101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'6' </font><font class="kw">=&gt; </font><font class="str">'101110001110101'</font><font class="kw">, </font><font class="str">'7' </font><font class="kw">=&gt; </font><font class="str">'101000101110111'</font><font class="kw">, </font><font class="str">'8' </font><font class="kw">=&gt; </font><font class="str">'111010001011101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'9' </font><font class="kw">=&gt; </font><font class="str">'101110001011101'</font><font class="kw">, </font><font class="str">'A' </font><font class="kw">=&gt; </font><font class="str">'111010100010111'</font><font class="kw">, </font><font class="str">'B' </font><font class="kw">=&gt; </font><font class="str">'101110100010111'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'C' </font><font class="kw">=&gt; </font><font class="str">'111011101000101'</font><font class="kw">, </font><font class="str">'D' </font><font class="kw">=&gt; </font><font class="str">'101011100010111'</font><font class="kw">, </font><font class="str">'E' </font><font class="kw">=&gt; </font><font class="str">'111010111000101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'F' </font><font class="kw">=&gt; </font><font class="str">'101110111000101'</font><font class="kw">, </font><font class="str">'G' </font><font class="kw">=&gt; </font><font class="str">'101010001110111'</font><font class="kw">, </font><font class="str">'H' </font><font class="kw">=&gt; </font><font class="str">'111010100011101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'I' </font><font class="kw">=&gt; </font><font class="str">'101110100011101'</font><font class="kw">, </font><font class="str">'J' </font><font class="kw">=&gt; </font><font class="str">'101011100011101'</font><font class="kw">, </font><font class="str">'K' </font><font class="kw">=&gt; </font><font class="str">'111010101000111'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'L' </font><font class="kw">=&gt; </font><font class="str">'101110101000111'</font><font class="kw">, </font><font class="str">'M' </font><font class="kw">=&gt; </font><font class="str">'111011101010001'</font><font class="kw">, </font><font class="str">'N' </font><font class="kw">=&gt; </font><font class="str">'101011101000111'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'O' </font><font class="kw">=&gt; </font><font class="str">'111010111010001'</font><font class="kw">, </font><font class="str">'P' </font><font class="kw">=&gt; </font><font class="str">'101110111010001'</font><font class="kw">, </font><font class="str">'Q' </font><font class="kw">=&gt; </font><font class="str">'101010111000111'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'R' </font><font class="kw">=&gt; </font><font class="str">'111010101110001'</font><font class="kw">, </font><font class="str">'S' </font><font class="kw">=&gt; </font><font class="str">'101110101110001'</font><font class="kw">, </font><font class="str">'T' </font><font class="kw">=&gt; </font><font class="str">'101011101110001'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'U' </font><font class="kw">=&gt; </font><font class="str">'111000101010111'</font><font class="kw">, </font><font class="str">'V' </font><font class="kw">=&gt; </font><font class="str">'100011101010111'</font><font class="kw">, </font><font class="str">'W' </font><font class="kw">=&gt; </font><font class="str">'111000111010101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'X' </font><font class="kw">=&gt; </font><font class="str">'100010111010111'</font><font class="kw">, </font><font class="str">'Y' </font><font class="kw">=&gt; </font><font class="str">'111000101110101'</font><font class="kw">, </font><font class="str">'Z' </font><font class="kw">=&gt; </font><font class="str">'100011101110101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'-' </font><font class="kw">=&gt; </font><font class="str">'100010101110111'</font><font class="kw">, </font><font class="str">'.' </font><font class="kw">=&gt; </font><font class="str">'111000101011101'</font><font class="kw">, </font><font class="str">' ' </font><font class="kw">=&gt; </font><font class="str">'100011101011101'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'*' </font><font class="kw">=&gt; </font><font class="str">'100010111011101'</font><font class="kw">, </font><font class="str">'$' </font><font class="kw">=&gt; </font><font class="str">'100010001000101'</font><font class="kw">, </font><font class="str">'/' </font><font class="kw">=&gt; </font><font class="str">'100010001010001'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'+' </font><font class="kw">=&gt; </font><font class="str">'100010100010001'</font><font class="kw">, </font><font class="str">'%' </font><font class="kw">=&gt; </font><font class="str">'101000100010001'</font><font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$encoding <font class="kw">= </font>$wide <font class="kw">? </font>$wide_encoding <font class="kw">: </font>$narrow_encoding<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Inter-character spacing<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$gap <font class="kw">= (</font>$w <font class="kw">&gt; </font>0.29<font class="kw">) ? </font><font class="str">'00' </font><font class="kw">: </font><font class="str">'0'</font><font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Convert to bars<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$encode <font class="kw">= </font><font class="str">''</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;for (</font>$i <font class="kw">= </font>0<font class="kw">; </font>$i<font class="kw">&lt; </font>strlen<font class="kw">(</font>$code<font class="kw">); </font>$i<font class="kw">++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$encode <font class="kw">.= </font>$encoding<font class="kw">[</font>$code<font class="kw">{</font>$i<font class="kw">}].</font>$gap<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Draw bars<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>draw_code39<font class="kw">(</font>$encode<font class="kw">, </font>$x<font class="kw">, </font>$y<font class="kw">, </font>$w<font class="kw">, </font>$h<font class="kw">);<br>}<br><br>function </font>checksum_code39<font class="kw">(</font>$code<font class="kw">) {<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Compute the modulo 43 checksum<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$chars <font class="kw">= array(</font><font class="str">'0'</font><font class="kw">, </font><font class="str">'1'</font><font class="kw">, </font><font class="str">'2'</font><font class="kw">, </font><font class="str">'3'</font><font class="kw">, </font><font class="str">'4'</font><font class="kw">, </font><font class="str">'5'</font><font class="kw">, </font><font class="str">'6'</font><font class="kw">, </font><font class="str">'7'</font><font class="kw">, </font><font class="str">'8'</font><font class="kw">, </font><font class="str">'9'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'A'</font><font class="kw">, </font><font class="str">'B'</font><font class="kw">, </font><font class="str">'C'</font><font class="kw">, </font><font class="str">'D'</font><font class="kw">, </font><font class="str">'E'</font><font class="kw">, </font><font class="str">'F'</font><font class="kw">, </font><font class="str">'G'</font><font class="kw">, </font><font class="str">'H'</font><font class="kw">, </font><font class="str">'I'</font><font class="kw">, </font><font class="str">'J'</font><font class="kw">, </font><font class="str">'K'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'L'</font><font class="kw">, </font><font class="str">'M'</font><font class="kw">, </font><font class="str">'N'</font><font class="kw">, </font><font class="str">'O'</font><font class="kw">, </font><font class="str">'P'</font><font class="kw">, </font><font class="str">'Q'</font><font class="kw">, </font><font class="str">'R'</font><font class="kw">, </font><font class="str">'S'</font><font class="kw">, </font><font class="str">'T'</font><font class="kw">, </font><font class="str">'U'</font><font class="kw">, </font><font class="str">'V'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="str">'W'</font><font class="kw">, </font><font class="str">'X'</font><font class="kw">, </font><font class="str">'Y'</font><font class="kw">, </font><font class="str">'Z'</font><font class="kw">, </font><font class="str">'-'</font><font class="kw">, </font><font class="str">'.'</font><font class="kw">, </font><font class="str">' '</font><font class="kw">, </font><font class="str">'$'</font><font class="kw">, </font><font class="str">'/'</font><font class="kw">, </font><font class="str">'+'</font><font class="kw">, </font><font class="str">'%'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$sum <font class="kw">= </font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;for (</font>$i<font class="kw">=</font>0 <font class="kw">; </font>$i<font class="kw">&lt;</font>strlen<font class="kw">(</font>$code<font class="kw">); </font>$i<font class="kw">++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a <font class="kw">= </font>array_keys<font class="kw">(</font>$chars<font class="kw">, </font>$code<font class="kw">{</font>$i<font class="kw">});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$sum <font class="kw">+= </font>$a<font class="kw">[</font>0<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$r <font class="kw">= </font>$sum <font class="kw">% </font>43<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;return </font>$chars<font class="kw">[</font>$r<font class="kw">];<br>}<br><br>function </font>encode_code39_ext<font class="kw">(</font>$code<font class="kw">) {<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Encode characters in extended mode<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$encode <font class="kw">= array(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>0<font class="kw">) =&gt; </font><font class="str">'%U'</font><font class="kw">, </font>chr<font class="kw">(</font>1<font class="kw">) =&gt; </font><font class="str">'$A'</font><font class="kw">, </font>chr<font class="kw">(</font>2<font class="kw">) =&gt; </font><font class="str">'$B'</font><font class="kw">, </font>chr<font class="kw">(</font>3<font class="kw">) =&gt; </font><font class="str">'$C'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>4<font class="kw">) =&gt; </font><font class="str">'$D'</font><font class="kw">, </font>chr<font class="kw">(</font>5<font class="kw">) =&gt; </font><font class="str">'$E'</font><font class="kw">, </font>chr<font class="kw">(</font>6<font class="kw">) =&gt; </font><font class="str">'$F'</font><font class="kw">, </font>chr<font class="kw">(</font>7<font class="kw">) =&gt; </font><font class="str">'$G'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>8<font class="kw">) =&gt; </font><font class="str">'$H'</font><font class="kw">, </font>chr<font class="kw">(</font>9<font class="kw">) =&gt; </font><font class="str">'$I'</font><font class="kw">, </font>chr<font class="kw">(</font>10<font class="kw">) =&gt; </font><font class="str">'$J'</font><font class="kw">, </font>chr<font class="kw">(</font>11<font class="kw">) =&gt; </font><font class="str">'£K'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>12<font class="kw">) =&gt; </font><font class="str">'$L'</font><font class="kw">, </font>chr<font class="kw">(</font>13<font class="kw">) =&gt; </font><font class="str">'$M'</font><font class="kw">, </font>chr<font class="kw">(</font>14<font class="kw">) =&gt; </font><font class="str">'$N'</font><font class="kw">, </font>chr<font class="kw">(</font>15<font class="kw">) =&gt; </font><font class="str">'$O'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>16<font class="kw">) =&gt; </font><font class="str">'$P'</font><font class="kw">, </font>chr<font class="kw">(</font>17<font class="kw">) =&gt; </font><font class="str">'$Q'</font><font class="kw">, </font>chr<font class="kw">(</font>18<font class="kw">) =&gt; </font><font class="str">'$R'</font><font class="kw">, </font>chr<font class="kw">(</font>19<font class="kw">) =&gt; </font><font class="str">'$S'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>20<font class="kw">) =&gt; </font><font class="str">'$T'</font><font class="kw">, </font>chr<font class="kw">(</font>21<font class="kw">) =&gt; </font><font class="str">'$U'</font><font class="kw">, </font>chr<font class="kw">(</font>22<font class="kw">) =&gt; </font><font class="str">'$V'</font><font class="kw">, </font>chr<font class="kw">(</font>23<font class="kw">) =&gt; </font><font class="str">'$W'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>24<font class="kw">) =&gt; </font><font class="str">'$X'</font><font class="kw">, </font>chr<font class="kw">(</font>25<font class="kw">) =&gt; </font><font class="str">'$Y'</font><font class="kw">, </font>chr<font class="kw">(</font>26<font class="kw">) =&gt; </font><font class="str">'$Z'</font><font class="kw">, </font>chr<font class="kw">(</font>27<font class="kw">) =&gt; </font><font class="str">'%A'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>28<font class="kw">) =&gt; </font><font class="str">'%B'</font><font class="kw">, </font>chr<font class="kw">(</font>29<font class="kw">) =&gt; </font><font class="str">'%C'</font><font class="kw">, </font>chr<font class="kw">(</font>30<font class="kw">) =&gt; </font><font class="str">'%D'</font><font class="kw">, </font>chr<font class="kw">(</font>31<font class="kw">) =&gt; </font><font class="str">'%E'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>32<font class="kw">) =&gt; </font><font class="str">' '</font><font class="kw">, </font>chr<font class="kw">(</font>33<font class="kw">) =&gt; </font><font class="str">'/A'</font><font class="kw">, </font>chr<font class="kw">(</font>34<font class="kw">) =&gt; </font><font class="str">'/B'</font><font class="kw">, </font>chr<font class="kw">(</font>35<font class="kw">) =&gt; </font><font class="str">'/C'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>36<font class="kw">) =&gt; </font><font class="str">'/D'</font><font class="kw">, </font>chr<font class="kw">(</font>37<font class="kw">) =&gt; </font><font class="str">'/E'</font><font class="kw">, </font>chr<font class="kw">(</font>38<font class="kw">) =&gt; </font><font class="str">'/F'</font><font class="kw">, </font>chr<font class="kw">(</font>39<font class="kw">) =&gt; </font><font class="str">'/G'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>40<font class="kw">) =&gt; </font><font class="str">'/H'</font><font class="kw">, </font>chr<font class="kw">(</font>41<font class="kw">) =&gt; </font><font class="str">'/I'</font><font class="kw">, </font>chr<font class="kw">(</font>42<font class="kw">) =&gt; </font><font class="str">'/J'</font><font class="kw">, </font>chr<font class="kw">(</font>43<font class="kw">) =&gt; </font><font class="str">'/K'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>44<font class="kw">) =&gt; </font><font class="str">'/L'</font><font class="kw">, </font>chr<font class="kw">(</font>45<font class="kw">) =&gt; </font><font class="str">'-'</font><font class="kw">, </font>chr<font class="kw">(</font>46<font class="kw">) =&gt; </font><font class="str">'.'</font><font class="kw">, </font>chr<font class="kw">(</font>47<font class="kw">) =&gt; </font><font class="str">'/O'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>48<font class="kw">) =&gt; </font><font class="str">'0'</font><font class="kw">, </font>chr<font class="kw">(</font>49<font class="kw">) =&gt; </font><font class="str">'1'</font><font class="kw">, </font>chr<font class="kw">(</font>50<font class="kw">) =&gt; </font><font class="str">'2'</font><font class="kw">, </font>chr<font class="kw">(</font>51<font class="kw">) =&gt; </font><font class="str">'3'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>52<font class="kw">) =&gt; </font><font class="str">'4'</font><font class="kw">, </font>chr<font class="kw">(</font>53<font class="kw">) =&gt; </font><font class="str">'5'</font><font class="kw">, </font>chr<font class="kw">(</font>54<font class="kw">) =&gt; </font><font class="str">'6'</font><font class="kw">, </font>chr<font class="kw">(</font>55<font class="kw">) =&gt; </font><font class="str">'7'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>56<font class="kw">) =&gt; </font><font class="str">'8'</font><font class="kw">, </font>chr<font class="kw">(</font>57<font class="kw">) =&gt; </font><font class="str">'9'</font><font class="kw">, </font>chr<font class="kw">(</font>58<font class="kw">) =&gt; </font><font class="str">'/Z'</font><font class="kw">, </font>chr<font class="kw">(</font>59<font class="kw">) =&gt; </font><font class="str">'%F'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>60<font class="kw">) =&gt; </font><font class="str">'%G'</font><font class="kw">, </font>chr<font class="kw">(</font>61<font class="kw">) =&gt; </font><font class="str">'%H'</font><font class="kw">, </font>chr<font class="kw">(</font>62<font class="kw">) =&gt; </font><font class="str">'%I'</font><font class="kw">, </font>chr<font class="kw">(</font>63<font class="kw">) =&gt; </font><font class="str">'%J'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>64<font class="kw">) =&gt; </font><font class="str">'%V'</font><font class="kw">, </font>chr<font class="kw">(</font>65<font class="kw">) =&gt; </font><font class="str">'A'</font><font class="kw">, </font>chr<font class="kw">(</font>66<font class="kw">) =&gt; </font><font class="str">'B'</font><font class="kw">, </font>chr<font class="kw">(</font>67<font class="kw">) =&gt; </font><font class="str">'C'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>68<font class="kw">) =&gt; </font><font class="str">'D'</font><font class="kw">, </font>chr<font class="kw">(</font>69<font class="kw">) =&gt; </font><font class="str">'E'</font><font class="kw">, </font>chr<font class="kw">(</font>70<font class="kw">) =&gt; </font><font class="str">'F'</font><font class="kw">, </font>chr<font class="kw">(</font>71<font class="kw">) =&gt; </font><font class="str">'G'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>72<font class="kw">) =&gt; </font><font class="str">'H'</font><font class="kw">, </font>chr<font class="kw">(</font>73<font class="kw">) =&gt; </font><font class="str">'I'</font><font class="kw">, </font>chr<font class="kw">(</font>74<font class="kw">) =&gt; </font><font class="str">'J'</font><font class="kw">, </font>chr<font class="kw">(</font>75<font class="kw">) =&gt; </font><font class="str">'K'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>76<font class="kw">) =&gt; </font><font class="str">'L'</font><font class="kw">, </font>chr<font class="kw">(</font>77<font class="kw">) =&gt; </font><font class="str">'M'</font><font class="kw">, </font>chr<font class="kw">(</font>78<font class="kw">) =&gt; </font><font class="str">'N'</font><font class="kw">, </font>chr<font class="kw">(</font>79<font class="kw">) =&gt; </font><font class="str">'O'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>80<font class="kw">) =&gt; </font><font class="str">'P'</font><font class="kw">, </font>chr<font class="kw">(</font>81<font class="kw">) =&gt; </font><font class="str">'Q'</font><font class="kw">, </font>chr<font class="kw">(</font>82<font class="kw">) =&gt; </font><font class="str">'R'</font><font class="kw">, </font>chr<font class="kw">(</font>83<font class="kw">) =&gt; </font><font class="str">'S'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>84<font class="kw">) =&gt; </font><font class="str">'T'</font><font class="kw">, </font>chr<font class="kw">(</font>85<font class="kw">) =&gt; </font><font class="str">'U'</font><font class="kw">, </font>chr<font class="kw">(</font>86<font class="kw">) =&gt; </font><font class="str">'V'</font><font class="kw">, </font>chr<font class="kw">(</font>87<font class="kw">) =&gt; </font><font class="str">'W'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>88<font class="kw">) =&gt; </font><font class="str">'X'</font><font class="kw">, </font>chr<font class="kw">(</font>89<font class="kw">) =&gt; </font><font class="str">'Y'</font><font class="kw">, </font>chr<font class="kw">(</font>90<font class="kw">) =&gt; </font><font class="str">'Z'</font><font class="kw">, </font>chr<font class="kw">(</font>91<font class="kw">) =&gt; </font><font class="str">'%K'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>92<font class="kw">) =&gt; </font><font class="str">'%L'</font><font class="kw">, </font>chr<font class="kw">(</font>93<font class="kw">) =&gt; </font><font class="str">'%M'</font><font class="kw">, </font>chr<font class="kw">(</font>94<font class="kw">) =&gt; </font><font class="str">'%N'</font><font class="kw">, </font>chr<font class="kw">(</font>95<font class="kw">) =&gt; </font><font class="str">'%O'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>96<font class="kw">) =&gt; </font><font class="str">'%W'</font><font class="kw">, </font>chr<font class="kw">(</font>97<font class="kw">) =&gt; </font><font class="str">'+A'</font><font class="kw">, </font>chr<font class="kw">(</font>98<font class="kw">) =&gt; </font><font class="str">'+B'</font><font class="kw">, </font>chr<font class="kw">(</font>99<font class="kw">) =&gt; </font><font class="str">'+C'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>100<font class="kw">) =&gt; </font><font class="str">'+D'</font><font class="kw">, </font>chr<font class="kw">(</font>101<font class="kw">) =&gt; </font><font class="str">'+E'</font><font class="kw">, </font>chr<font class="kw">(</font>102<font class="kw">) =&gt; </font><font class="str">'+F'</font><font class="kw">, </font>chr<font class="kw">(</font>103<font class="kw">) =&gt; </font><font class="str">'+G'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>104<font class="kw">) =&gt; </font><font class="str">'+H'</font><font class="kw">, </font>chr<font class="kw">(</font>105<font class="kw">) =&gt; </font><font class="str">'+I'</font><font class="kw">, </font>chr<font class="kw">(</font>106<font class="kw">) =&gt; </font><font class="str">'+J'</font><font class="kw">, </font>chr<font class="kw">(</font>107<font class="kw">) =&gt; </font><font class="str">'+K'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>108<font class="kw">) =&gt; </font><font class="str">'+L'</font><font class="kw">, </font>chr<font class="kw">(</font>109<font class="kw">) =&gt; </font><font class="str">'+M'</font><font class="kw">, </font>chr<font class="kw">(</font>110<font class="kw">) =&gt; </font><font class="str">'+N'</font><font class="kw">, </font>chr<font class="kw">(</font>111<font class="kw">) =&gt; </font><font class="str">'+O'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>112<font class="kw">) =&gt; </font><font class="str">'+P'</font><font class="kw">, </font>chr<font class="kw">(</font>113<font class="kw">) =&gt; </font><font class="str">'+Q'</font><font class="kw">, </font>chr<font class="kw">(</font>114<font class="kw">) =&gt; </font><font class="str">'+R'</font><font class="kw">, </font>chr<font class="kw">(</font>115<font class="kw">) =&gt; </font><font class="str">'+S'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>116<font class="kw">) =&gt; </font><font class="str">'+T'</font><font class="kw">, </font>chr<font class="kw">(</font>117<font class="kw">) =&gt; </font><font class="str">'+U'</font><font class="kw">, </font>chr<font class="kw">(</font>118<font class="kw">) =&gt; </font><font class="str">'+V'</font><font class="kw">, </font>chr<font class="kw">(</font>119<font class="kw">) =&gt; </font><font class="str">'+W'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>120<font class="kw">) =&gt; </font><font class="str">'+X'</font><font class="kw">, </font>chr<font class="kw">(</font>121<font class="kw">) =&gt; </font><font class="str">'+Y'</font><font class="kw">, </font>chr<font class="kw">(</font>122<font class="kw">) =&gt; </font><font class="str">'+Z'</font><font class="kw">, </font>chr<font class="kw">(</font>123<font class="kw">) =&gt; </font><font class="str">'%P'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>chr<font class="kw">(</font>124<font class="kw">) =&gt; </font><font class="str">'%Q'</font><font class="kw">, </font>chr<font class="kw">(</font>125<font class="kw">) =&gt; </font><font class="str">'%R'</font><font class="kw">, </font>chr<font class="kw">(</font>126<font class="kw">) =&gt; </font><font class="str">'%S'</font><font class="kw">, </font>chr<font class="kw">(</font>127<font class="kw">) =&gt; </font><font class="str">'%T'</font><font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$code_ext <font class="kw">= </font><font class="str">''</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;for (</font>$i <font class="kw">= </font>0 <font class="kw">; </font>$i<font class="kw">&lt;</font>strlen<font class="kw">(</font>$code<font class="kw">); </font>$i<font class="kw">++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</font>ord<font class="kw">(</font>$code<font class="kw">{</font>$i<font class="kw">}) &gt; </font>127<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Error<font class="kw">(</font><font class="str">'Invalid character: '</font><font class="kw">.</font>$code<font class="kw">{</font>$i<font class="kw">});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$code_ext <font class="kw">.= </font>$encode<font class="kw">[</font>$code<font class="kw">{</font>$i<font class="kw">}];<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;return </font>$code_ext<font class="kw">;<br>}<br><br>function </font>draw_code39<font class="kw">(</font>$code<font class="kw">, </font>$x<font class="kw">, </font>$y<font class="kw">, </font>$w<font class="kw">, </font>$h<font class="kw">){<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//Draw bars<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">for(</font>$i<font class="kw">=</font>0<font class="kw">; </font>$i<font class="kw">&lt;</font>strlen<font class="kw">(</font>$code<font class="kw">); </font>$i<font class="kw">++)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$code<font class="kw">{</font>$i<font class="kw">} == </font><font class="str">'1'</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Rect<font class="kw">(</font>$x<font class="kw">+</font>$i<font class="kw">*</font>$w<font class="kw">, </font>$y<font class="kw">, </font>$w<font class="kw">, </font>$h<font class="kw">, </font><font class="str">'F'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br>}<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>

<H4 CLASS="st">Example</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br>define<font class="kw">(</font><font class="str">'FPDF_FONTPATH'</font><font class="kw">,</font><font class="str">'font/'</font><font class="kw">);<br>require(</font><font class="str">'code39.php'</font><font class="kw">);<br><br></font>$pdf<font class="kw">=new </font>PDF_Code39<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>Code39<font class="kw">(</font>60<font class="kw">, </font>30<font class="kw">, </font><font class="str">'Code 39'</font><font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="ex68.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script68.zip">ZIP</A> | <A HREF="script68.tgz">TGZ</A>
</BODY>
</HTML>
