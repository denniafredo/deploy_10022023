<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Example with PHPlot</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Example with PHPlot</H2>
<H4 CLASS="st">Informations</H4>Author: <SCRIPT TYPE="text/javascript">document.write('<A H'+'REF="m'+'ailto:uli.t'+'&#'+'64;'+'loop.de?subject=Example%20with%20PHPlot">');</SCRIPT>Ulrich Taaken<SCRIPT TYPE="text/javascript">document.write('<\/A>');</SCRIPT><BR>License: Freeware
<H4 CLASS="st">Description</H4>This script shows how to embed a graph generated by <A HREF="http://www.phplot.com" TARGET="_blank">PHPlot</A>
in a PDF. It makes use of the script <A HREF="script45.php">Memory images</A>.<BR>
The important thing to note is the call to the <TT>SetPrintImage()</TT> method to prevent the
image from being sent to the browser. Then the GD handle is retrieved via <TT>$graph->img</TT>.<BR>
This example works with PHPlot 4.4.6.
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require(</font><font class="str">'mem_image.php'</font><font class="kw">);<br>require(</font><font class="str">'phplot/phplot.php'</font><font class="kw">);<br><br></font>$graph <font class="kw">= new </font>PHPlot<font class="kw">(</font>500<font class="kw">,</font>250<font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetDataType<font class="kw">(</font><font class="str">'linear-linear'</font><font class="kw">);<br><br></font><font class="cmt">//Specify some data<br></font>$data <font class="kw">= array(<br>&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font class="str">''</font><font class="kw">, </font>2000<font class="kw">,&nbsp;&nbsp;</font>750<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font class="str">''</font><font class="kw">, </font>2010<font class="kw">, </font>1700<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font class="str">''</font><font class="kw">, </font>2015<font class="kw">, </font>2000<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font class="str">''</font><font class="kw">, </font>2020<font class="kw">, </font>1800<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font class="str">''</font><font class="kw">, </font>2025<font class="kw">, </font>1300<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font class="str">''</font><font class="kw">, </font>2030<font class="kw">,&nbsp;&nbsp;</font>400<font class="kw">)<br>);<br></font>$graph<font class="kw">-&gt;</font>SetDataValues<font class="kw">(</font>$data<font class="kw">);<br><br></font><font class="cmt">//Specify plotting area details<br></font>$graph<font class="kw">-&gt;</font>SetPlotType<font class="kw">(</font><font class="str">'lines'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetTitleFontSize<font class="kw">(</font><font class="str">'2'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetTitle<font class="kw">(</font><font class="str">'Social Security trust fund asset estimates, in $ billions'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetPlotAreaWorld<font class="kw">(</font>2000<font class="kw">,</font>0<font class="kw">,</font>2035<font class="kw">,</font>2000<font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetPlotBgColor<font class="kw">(</font><font class="str">'white'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetPlotBorderType<font class="kw">(</font><font class="str">'left'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetBackgroundColor<font class="kw">(</font><font class="str">'white'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetDataColors<font class="kw">(array(</font><font class="str">'red'</font><font class="kw">),array(</font><font class="str">'black'</font><font class="kw">));<br><br></font><font class="cmt">//Define the X axis<br></font>$graph<font class="kw">-&gt;</font>SetXLabel<font class="kw">(</font><font class="str">'Year'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetHorizTickIncrement<font class="kw">(</font><font class="str">'5'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetXGridLabelType<font class="kw">(</font><font class="str">'default'</font><font class="kw">);<br><br></font><font class="cmt">//Define the Y axis<br></font>$graph<font class="kw">-&gt;</font>SetVertTickIncrement<font class="kw">(</font><font class="str">'500'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetPrecisionY<font class="kw">(</font><font class="str">'0'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetYGridLabelType<font class="kw">(</font><font class="str">'right'</font><font class="kw">);<br></font>$graph<font class="kw">-&gt;</font>SetLightGridColor<font class="kw">(</font><font class="str">'blue'</font><font class="kw">);<br><br></font><font class="cmt">//Disable image output<br></font>$graph<font class="kw">-&gt;</font>SetPrintImage<font class="kw">(</font>false<font class="kw">);<br></font><font class="cmt">//Draw the graph<br></font>$graph<font class="kw">-&gt;</font>DrawGraph<font class="kw">();<br><br></font>$pdf <font class="kw">= new </font>MEM_IMAGE<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>GDImage<font class="kw">(</font>$graph<font class="kw">-&gt;</font>img<font class="kw">,</font>30<font class="kw">,</font>20<font class="kw">,</font>140<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="pdfplot.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script48.zip">ZIP</A> | <A HREF="script48.tgz">TGZ</A>
</BODY>
</HTML>
