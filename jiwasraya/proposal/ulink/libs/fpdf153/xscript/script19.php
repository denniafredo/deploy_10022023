<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Sector</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Sector</H2>
<H4 CLASS="st">Informations</H4>Author: Maxime Delorme<BR>License: Freeware
<H4 CLASS="st">Description</H4>This script allows to draw the sector of a circle. It can be used for instance to render pie
charts.<BR>
It requires FPDF 1.51.<BR>
<BR>
<TT>function Sector(<B>float</B> xc, <B>float</B> yc, <B>float</B> r, <B>float</B> a, <B>float</B> b [, <B>string</B> style [, <B>boolean</B> cw [, <B>float</B> o]]])</TT><BR>
<BR>
<TT><U>xc</U></TT>: abscissa of the center.<BR>
<TT><U>yc</U></TT>: ordinate of the center.<BR>
<TT><U>r</U></TT>: radius.<BR>
<TT><U>a</U></TT>: start angle (in degrees).<BR>
<TT><U>b</U></TT>: end angle (in degrees).<BR>
<TT><U>style</U></TT>: <TT>D</TT>, <TT>F</TT>, <TT>FD</TT> or <TT>DF</TT> (draw, fill, fill and draw). Default: <TT>FD</TT>.<BR>
<TT><U>cw</U></TT>: indicates whether to go clockwise (default: <TT>true</TT>).<BR>
<TT><U>o</U></TT>: origin of angles (<TT>0</TT> for 3 o'clock, <TT>90</TT> for noon, <TT>180</TT> for 9 o'clock, <TT>270</TT> for 6 o'clock).
Default: <TT>90</TT>.
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require(</font><font class="str">'fpdf.php'</font><font class="kw">);<br><br>class&nbsp;</font>PDF_Sector&nbsp;<font class="kw">extends&nbsp;</font>FPDF<br><font class="kw">{<br>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</font>Sector<font class="kw">(</font>$xc<font class="kw">,&nbsp;</font>$yc<font class="kw">,&nbsp;</font>$r<font class="kw">,&nbsp;</font>$a<font class="kw">,&nbsp;</font>$b<font class="kw">,&nbsp;</font>$style<font class="kw">=</font><font class="str">'FD'</font><font class="kw">,&nbsp;</font>$cw<font class="kw">=</font>true<font class="kw">,&nbsp;</font>$o<font class="kw">=</font>90<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$cw<font class="kw">){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$d&nbsp;<font class="kw">=&nbsp;</font>$b<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">=&nbsp;</font>$o&nbsp;<font class="kw">-&nbsp;</font>$a<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a&nbsp;<font class="kw">=&nbsp;</font>$o&nbsp;<font class="kw">-&nbsp;</font>$d<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">+=&nbsp;</font>$o<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a&nbsp;<font class="kw">+=&nbsp;</font>$o<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a&nbsp;<font class="kw">=&nbsp;(</font>$a<font class="kw">%</font>360<font class="kw">)+</font>360<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">=&nbsp;(</font>$b<font class="kw">%</font>360<font class="kw">)+</font>360<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font>$a&nbsp;<font class="kw">&gt;&nbsp;</font>$b<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">+=</font>360<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">=&nbsp;</font>$b<font class="kw">/</font>360<font class="kw">*</font>2<font class="kw">*</font>M_PI<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a&nbsp;<font class="kw">=&nbsp;</font>$a<font class="kw">/</font>360<font class="kw">*</font>2<font class="kw">*</font>M_PI<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$d&nbsp;<font class="kw">=&nbsp;</font>$b<font class="kw">-</font>$a<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font>$d&nbsp;<font class="kw">==&nbsp;</font>0&nbsp;<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$d&nbsp;<font class="kw">=</font>2<font class="kw">*</font>M_PI<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$k&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>k<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$hp&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>h<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$style<font class="kw">==</font><font class="str">'F'</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$op<font class="kw">=</font><font class="str">'f'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(</font>$style<font class="kw">==</font><font class="str">'FD'&nbsp;</font><font class="kw">or&nbsp;</font>$style<font class="kw">==</font><font class="str">'DF'</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$op<font class="kw">=</font><font class="str">'b'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$op<font class="kw">=</font><font class="str">'s'</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font>sin<font class="kw">(</font>$d<font class="kw">/</font>2<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$MyArc&nbsp;<font class="kw">=&nbsp;</font>4<font class="kw">/</font>3<font class="kw">*(</font>1<font class="kw">-</font>cos<font class="kw">(</font>$d<font class="kw">/</font>2<font class="kw">))/</font>sin<font class="kw">(</font>$d<font class="kw">/</font>2<font class="kw">)*</font>$r<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//first put the center<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_out<font class="kw">(</font>sprintf<font class="kw">(</font><font class="str">'%.2f %.2f m'</font><font class="kw">,(</font>$xc<font class="kw">)*</font>$k<font class="kw">,(</font>$hp<font class="kw">-</font>$yc<font class="kw">)*</font>$k<font class="kw">));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//put the first point<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_out<font class="kw">(</font>sprintf<font class="kw">(</font><font class="str">'%.2f %.2f l'</font><font class="kw">,(</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$a<font class="kw">))*</font>$k<font class="kw">,((</font>$hp<font class="kw">-(</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$a<font class="kw">)))*</font>$k<font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//draw the arc<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if&nbsp;(</font>$d&nbsp;<font class="kw">&lt;&nbsp;</font>M_PI<font class="kw">/</font>2<font class="kw">){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_Arc<font class="kw">(</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$a<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$a<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">=&nbsp;</font>$a&nbsp;<font class="kw">+&nbsp;</font>$d<font class="kw">/</font>4<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$MyArc&nbsp;<font class="kw">=&nbsp;</font>4<font class="kw">/</font>3<font class="kw">*(</font>1<font class="kw">-</font>cos<font class="kw">(</font>$d<font class="kw">/</font>8<font class="kw">))/</font>sin<font class="kw">(</font>$d<font class="kw">/</font>8<font class="kw">)*</font>$r<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_Arc<font class="kw">(</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$a<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$a<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a&nbsp;<font class="kw">=&nbsp;</font>$b<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">=&nbsp;</font>$a&nbsp;<font class="kw">+&nbsp;</font>$d<font class="kw">/</font>4<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_Arc<font class="kw">(</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$a<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$a<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a&nbsp;<font class="kw">=&nbsp;</font>$b<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">=&nbsp;</font>$a&nbsp;<font class="kw">+&nbsp;</font>$d<font class="kw">/</font>4<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_Arc<font class="kw">(</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$a<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$a<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$a&nbsp;<font class="kw">=&nbsp;</font>$b<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$b&nbsp;<font class="kw">=&nbsp;</font>$a&nbsp;<font class="kw">+&nbsp;</font>$d<font class="kw">/</font>4<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_Arc<font class="kw">(</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$a<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$a<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>M_PI<font class="kw">/</font>2<font class="kw">+</font>$a<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">)+</font>$MyArc<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)-</font>$MyArc<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">-</font>M_PI<font class="kw">/</font>2<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$xc<font class="kw">+</font>$r<font class="kw">*</font>cos<font class="kw">(</font>$b<font class="kw">),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$yc<font class="kw">-</font>$r<font class="kw">*</font>sin<font class="kw">(</font>$b<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">//terminate drawing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_out<font class="kw">(</font>$op<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</font>_Arc<font class="kw">(</font>$x1<font class="kw">,&nbsp;</font>$y1<font class="kw">,&nbsp;</font>$x2<font class="kw">,&nbsp;</font>$y2<font class="kw">,&nbsp;</font>$x3<font class="kw">,&nbsp;</font>$y3&nbsp;<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$h&nbsp;<font class="kw">=&nbsp;</font>$<font class="kw">this-&gt;</font>h<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>_out<font class="kw">(</font>sprintf<font class="kw">(</font><font class="str">'%.2f %.2f %.2f %.2f %.2f %.2f c'</font><font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$x1<font class="kw">*</font>$<font class="kw">this-&gt;</font>k<font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</font>$h<font class="kw">-</font>$y1<font class="kw">)*</font>$<font class="kw">this-&gt;</font>k<font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$x2<font class="kw">*</font>$<font class="kw">this-&gt;</font>k<font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</font>$h<font class="kw">-</font>$y2<font class="kw">)*</font>$<font class="kw">this-&gt;</font>k<font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$x3<font class="kw">*</font>$<font class="kw">this-&gt;</font>k<font class="kw">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</font>$h<font class="kw">-</font>$y3<font class="kw">)*</font>$<font class="kw">this-&gt;</font>k<font class="kw">));<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>

<H4 CLASS="st">Example</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require(</font><font class="str">'sector.php'</font><font class="kw">);<br><br></font>$pdf<font class="kw">=new&nbsp;</font>PDF_Sector<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>Open<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br></font>$xc<font class="kw">=</font>105<font class="kw">;<br></font>$yc<font class="kw">=</font>55<font class="kw">;<br></font>$r<font class="kw">=</font>40<font class="kw">;<br></font>$pdf<font class="kw">-&gt;</font>SetFillColor<font class="kw">(</font>120<font class="kw">,</font>120<font class="kw">,</font>255<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Sector<font class="kw">(</font>$xc<font class="kw">,</font>$yc<font class="kw">,</font>$r<font class="kw">,</font>20<font class="kw">,</font>120<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetFillColor<font class="kw">(</font>120<font class="kw">,</font>255<font class="kw">,</font>120<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Sector<font class="kw">(</font>$xc<font class="kw">,</font>$yc<font class="kw">,</font>$r<font class="kw">,</font>120<font class="kw">,</font>250<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetFillColor<font class="kw">(</font>255<font class="kw">,</font>120<font class="kw">,</font>120<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Sector<font class="kw">(</font>$xc<font class="kw">,</font>$yc<font class="kw">,</font>$r<font class="kw">,</font>250<font class="kw">,</font>20<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="ex19.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script19.zip">ZIP</A> | <A HREF="script19.tgz">TGZ</A>
</BODY>
</HTML>
