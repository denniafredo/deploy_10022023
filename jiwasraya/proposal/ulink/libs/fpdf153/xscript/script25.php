<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Tags for cells and bold</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Tags for cells and bold</H2>
<H4 CLASS="st">Informations</H4>Author: <A HREF="&#109;ailto:marciosfalsin&#64;hotmail.com?subject=Tags%20for%20cells%20and%20bold">Marcio Sfalsin</A><BR>License: Freeware
<H4 CLASS="st">Description</H4>This script allows to print text with the following tags in it:<BR>
<BR>[text]: puts the text inside a framed cell
<BR>&lt;text&gt;: renders the text in bold
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br>define<font class="kw">(</font><font class="str">'FPDF_FONTPATH'</font><font class="kw">,</font><font class="str">'font/'</font><font class="kw">);<br>require(</font><font class="str">'fpdf.php'</font><font class="kw">);<br><br>class </font>PDF <font class="kw">extends </font>FPDF<br><font class="kw">{<br><br>function </font>WriteText<font class="kw">(</font>$text<font class="kw">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosIni <font class="kw">= </font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosFim <font class="kw">= </font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;if (</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&lt;'</font><font class="kw">)!==</font>false <font class="kw">and </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'['</font><font class="kw">)!==</font>false<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&lt;'</font><font class="kw">)&lt;</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'['</font><font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Write<font class="kw">(</font>5<font class="kw">,</font>substr<font class="kw">(</font>$text<font class="kw">,</font>0<font class="kw">,</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&lt;'</font><font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosIni <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&lt;'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosFim <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&gt;'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font><font class="str">''</font><font class="kw">,</font><font class="str">'B'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Write<font class="kw">(</font>5<font class="kw">,</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosIni<font class="kw">+</font>1<font class="kw">,</font>$intPosFim<font class="kw">-</font>$intPosIni<font class="kw">-</font>1<font class="kw">));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font><font class="str">''</font><font class="kw">,</font><font class="str">''</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>WriteText<font class="kw">(</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosFim<font class="kw">+</font>1<font class="kw">,</font>strlen<font class="kw">(</font>$text<font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Write<font class="kw">(</font>5<font class="kw">,</font>substr<font class="kw">(</font>$text<font class="kw">,</font>0<font class="kw">,</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'['</font><font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosIni <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'['</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosFim <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">']'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$w<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetStringWidth<font class="kw">(</font><font class="str">'a'</font><font class="kw">)*(</font>$intPosFim<font class="kw">-</font>$intPosIni<font class="kw">-</font>1<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$w<font class="kw">,</font>$<font class="kw">this-&gt;</font>FontSize<font class="kw">+</font>0.75<font class="kw">,</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosIni<font class="kw">+</font>1<font class="kw">,</font>$intPosFim<font class="kw">-</font>$intPosIni<font class="kw">-</font>1<font class="kw">),</font>1<font class="kw">,</font>0<font class="kw">,</font><font class="str">''</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>WriteText<font class="kw">(</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosFim<font class="kw">+</font>1<font class="kw">,</font>strlen<font class="kw">(</font>$text<font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&lt;'</font><font class="kw">)!==</font>false<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Write<font class="kw">(</font>5<font class="kw">,</font>substr<font class="kw">(</font>$text<font class="kw">,</font>0<font class="kw">,</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&lt;'</font><font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosIni <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&lt;'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosFim <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'&gt;'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font><font class="str">''</font><font class="kw">,</font><font class="str">'B'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>WriteText<font class="kw">(</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosIni<font class="kw">+</font>1<font class="kw">,</font>$intPosFim<font class="kw">-</font>$intPosIni<font class="kw">-</font>1<font class="kw">));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font><font class="str">''</font><font class="kw">,</font><font class="str">''</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>WriteText<font class="kw">(</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosFim<font class="kw">+</font>1<font class="kw">,</font>strlen<font class="kw">(</font>$text<font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif (</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'['</font><font class="kw">)!==</font>false<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Write<font class="kw">(</font>5<font class="kw">,</font>substr<font class="kw">(</font>$text<font class="kw">,</font>0<font class="kw">,</font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'['</font><font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosIni <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">'['</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$intPosFim <font class="kw">= </font>strpos<font class="kw">(</font>$text<font class="kw">,</font><font class="str">']'</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$w<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetStringWidth<font class="kw">(</font><font class="str">'a'</font><font class="kw">)*(</font>$intPosFim<font class="kw">-</font>$intPosIni<font class="kw">-</font>1<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$w<font class="kw">,</font>$<font class="kw">this-&gt;</font>FontSize<font class="kw">+</font>0.75<font class="kw">,</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosIni<font class="kw">+</font>1<font class="kw">,</font>$intPosFim<font class="kw">-</font>$intPosIni<font class="kw">-</font>1<font class="kw">),</font>1<font class="kw">,</font>0<font class="kw">,</font><font class="str">''</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>WriteText<font class="kw">(</font>substr<font class="kw">(</font>$text<font class="kw">,</font>$intPosFim<font class="kw">+</font>1<font class="kw">,</font>strlen<font class="kw">(</font>$text<font class="kw">)));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Write<font class="kw">(</font>5<font class="kw">,</font>$text<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>}<br><br></font>$pdf<font class="kw">=new </font>PDF<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>Open<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>SetFont<font class="kw">(</font><font class="str">'Arial'</font><font class="kw">,</font><font class="str">''</font><font class="kw">,</font>12<font class="kw">);<br></font>$text&nbsp;&nbsp;<font class="kw">= </font><font class="str">"Let's show... \n\n"</font><font class="kw">;<br></font>$text <font class="kw">.= </font><font class="str">" [This is a cell][and another cell]\n\n"</font><font class="kw">;<br></font>$text <font class="kw">.= </font><font class="str">"&lt;This is a bold sentence&gt; and another non bold sentence."</font><font class="kw">;<br></font>$pdf<font class="kw">-&gt;</font>WriteText<font class="kw">(</font>$text<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="ex25.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script25.zip">ZIP</A> | <A HREF="script25.tgz">TGZ</A>
</BODY>
</HTML>
