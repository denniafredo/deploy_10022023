<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Tag-based formatting</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../fpdf.css">
</HEAD>
<BODY ONLOAD="if(window.focus) window.focus()">
<H2>Tag-based formatting</H2>
<H4 CLASS="st">Informations</H4>Author: <SCRIPT TYPE="text/javascript">document.write('<A H'+'REF="m'+'ailto:pmorin'+'&#'+'64;'+'pascal-morin.net?subject=Tag-based%20formatting">');</SCRIPT>Pascal Morin<SCRIPT TYPE="text/javascript">document.write('<\/A>');</SCRIPT><BR>License: Free for non-commercial use
<H4 CLASS="st">Description</H4>This extension lets you display several paragraphs inside a frame. The use of tags allows to
change the font, the style (bold, italic, underline), the size, and the color of characters.<BR>
<BR>
To do this, 2 methods are available:<BR>
<BR>
- The first one to define your tags:<BR>
<BR>
<TT>SetStyle(<B>string</B> tag, <B>string</B> family, <B>string</B> style, <B>int</B> size, <B>string</B> color [, <B>int</B> indent])</TT><BR>
<BR>
<TT><U>tag</U></TT>: name of the tag<BR>
<TT><U>family</U></TT>: family of the font<BR>
<TT><U>style</U></TT>: N (normal) or combination of B, I, U<BR>
<TT><U>size</U></TT>: size<BR>
<TT><U>color</U></TT>: color (comma-separated RGB components)<BR>
<TT><U>indent</U></TT>: to be specified for the paragraph tag; indents the first line by the
indicated value<BR>
<BR>
It is possible to use empty strings or null values, except for the paragraph tag. The values
are obtained by inheritance; for instance, with &lt;p&gt;&lt;u&gt;, the non-specified values of
&lt;u&gt; are replaced by those from &lt;p&gt;.<BR>
<BR>
- The second one to output text:<BR>
<BR>
<TT>WriteTag(<B>float</B> w, <B>float</B> h, <B>string</B> txt [, <B>int</B> border [, <B>string</B> align [, <B>int</B> fill [, <B>mixed</B> padding]]]])</TT><BR>
<BR>
<TT><U>w</U></TT>: width of the line (0 to go from one margin to the other)<BR>
<TT><U>h</U></TT>: height of a line<BR>
<TT><U>txt</U></TT>: text to display - must have at least one tag at beginning and end to delimit
a paragraph<BR>
<TT><U>border</U></TT>: 0 for none, 1 to have a border (default value: 0)<BR>
<TT><U>align</U></TT>: justification of text: L, R, C or J (default value: J)<BR>
<TT><U>fill</U></TT>: 0 for none, 1 for background filling (default value: 0)<BR>
<TT><U>padding</U></TT>: either a numerical value or a string of the form "left,top,bottom,right"
with 2, 3 or 4 specified values (default value: 0)
<H4 CLASS="st">Source</H4><TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br><font class="kw">require(</font><font class="str">'fpdf.php'</font><font class="kw">);<br><br>class </font>PDF <font class="kw">extends </font>FPDF<br><font class="kw">{<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// ################################# Initialization<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$wLine<font class="kw">; </font><font class="cmt">// Maximum width of the line<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$hLine<font class="kw">; </font><font class="cmt">// Height of the line<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$Text<font class="kw">; </font><font class="cmt">// Text to display<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$border<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$align<font class="kw">; </font><font class="cmt">// Justification of the text<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$fill<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$Padding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$lPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$tPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$bPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$rPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$TagStyle<font class="kw">; </font><font class="cmt">// Style for each tag<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$Indent<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$Space<font class="kw">; </font><font class="cmt">// Minimum space between words<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$PileStyle<font class="kw">; <br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$Line2Print<font class="kw">; </font><font class="cmt">// Line to display<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$NextLineBegin<font class="kw">; </font><font class="cmt">// Buffer between lines <br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$TagName<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$Delta<font class="kw">; </font><font class="cmt">// Maximum width minus width<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$StringLength<font class="kw">; <br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$LineLength<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;var </font>$wTextLine<font class="kw">; </font><font class="cmt">// Width minus paddings<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$nbSpace<font class="kw">; </font><font class="cmt">// Number of spaces in the line<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$Xini<font class="kw">; </font><font class="cmt">// Initial position<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$href<font class="kw">; </font><font class="cmt">// Current URL<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">var </font>$TagHref<font class="kw">; </font><font class="cmt">// URL for a cell<br><br>&nbsp;&nbsp;&nbsp;&nbsp;// ################################# Public Functions<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">function </font>WriteTag<font class="kw">(</font>$w<font class="kw">,</font>$h<font class="kw">,</font>$txt<font class="kw">,</font>$border<font class="kw">=</font>0<font class="kw">,</font>$align<font class="kw">=</font><font class="str">"J"</font><font class="kw">,</font>$fill<font class="kw">=</font>0<font class="kw">,</font>$padding<font class="kw">=</font>0<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>wLine<font class="kw">=</font>$w<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">=</font>$h<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">=</font>trim<font class="kw">(</font>$txt<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">=</font>ereg_replace<font class="kw">(</font><font class="str">"\n|\r|\t"</font><font class="kw">,</font><font class="str">""</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>Text<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>border<font class="kw">=</font>$border<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>align<font class="kw">=</font>$align<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>fill<font class="kw">=</font>$fill<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">=</font>$padding<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Xini<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetX<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>href<font class="kw">=</font><font class="str">""</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">=array();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagHref<font class="kw">=array();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LastLine<font class="kw">=</font>false<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetSpace<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LineLength<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>BorderTop<font class="kw">();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(</font>$<font class="kw">this-&gt;</font>Text<font class="kw">!=</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>MakeLine<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>PrintLine<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>BorderBottom<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>SetStyle<font class="kw">(</font>$tag<font class="kw">,</font>$family<font class="kw">,</font>$style<font class="kw">,</font>$size<font class="kw">,</font>$color<font class="kw">,</font>$indent<font class="kw">=-</font>1<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>$tag<font class="kw">=</font>trim<font class="kw">(</font>$tag<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'family'</font><font class="kw">]=</font>trim<font class="kw">(</font>$family<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'style'</font><font class="kw">]=</font>trim<font class="kw">(</font>$style<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'size'</font><font class="kw">]=</font>trim<font class="kw">(</font>$size<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'color'</font><font class="kw">]=</font>trim<font class="kw">(</font>$color<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'indent'</font><font class="kw">]=</font>$indent<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// ############################ Private Functions<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">function </font>SetSpace<font class="kw">() </font><font class="cmt">// Minimal space between words<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tag<font class="kw">=</font>$<font class="kw">this-&gt;</font>Parser<font class="kw">(</font>$<font class="kw">this-&gt;</font>Text<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>FindStyle<font class="kw">(</font>$tag<font class="kw">[</font>2<font class="kw">],</font>0<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>DoStyle<font class="kw">(</font>0<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Space<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetStringWidth<font class="kw">(</font><font class="str">" "</font><font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>Padding<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>ereg<font class="kw">(</font><font class="str">"^.+,"</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">=</font>explode<font class="kw">(</font><font class="str">","</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>lPadding<font class="kw">=</font>$tab<font class="kw">[</font>0<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>tPadding<font class="kw">=</font>$tab<font class="kw">[</font>1<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(isset(</font>$tab<font class="kw">[</font>2<font class="kw">]))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>bPadding<font class="kw">=</font>$tab<font class="kw">[</font>2<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>bPadding<font class="kw">=</font>$<font class="kw">this-&gt;</font>tPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(isset(</font>$tab<font class="kw">[</font>3<font class="kw">]))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>rPadding<font class="kw">=</font>$tab<font class="kw">[</font>3<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>rPadding<font class="kw">=</font>$<font class="kw">this-&gt;</font>lPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>lPadding<font class="kw">=</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>tPadding<font class="kw">=</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>bPadding<font class="kw">=</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>rPadding<font class="kw">=</font>$<font class="kw">this-&gt;</font>Padding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>tPadding<font class="kw">&lt;</font>$<font class="kw">this-&gt;</font>LineWidth<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>tPadding<font class="kw">=</font>$<font class="kw">this-&gt;</font>LineWidth<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>LineLength<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>wLine<font class="kw">==</font>0<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>wLine<font class="kw">=</font>$<font class="kw">this-&gt;</font>fw <font class="kw">- </font>$<font class="kw">this-&gt;</font>Xini <font class="kw">- </font>$<font class="kw">this-&gt;</font>rMargin<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>wTextLine <font class="kw">= </font>$<font class="kw">this-&gt;</font>wLine <font class="kw">- </font>$<font class="kw">this-&gt;</font>lPadding <font class="kw">- </font>$<font class="kw">this-&gt;</font>rPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>BorderTop<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>border<font class="kw">==</font>1<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font><font class="str">"TLR"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>wLine<font class="kw">,</font>$<font class="kw">this-&gt;</font>tPadding<font class="kw">,</font><font class="str">""</font><font class="kw">,</font>$border<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>fill<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$y<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetY<font class="kw">()+</font>$<font class="kw">this-&gt;</font>tPadding<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetXY<font class="kw">(</font>$<font class="kw">this-&gt;</font>Xini<font class="kw">,</font>$y<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>BorderBottom<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>border<font class="kw">==</font>1<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font><font class="str">"BLR"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>wLine<font class="kw">,</font>$<font class="kw">this-&gt;</font>bPadding<font class="kw">,</font><font class="str">""</font><font class="kw">,</font>$border<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>fill<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>DoStyle<font class="kw">(</font>$tag<font class="kw">) </font><font class="cmt">// Applies a style<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tag<font class="kw">=</font>trim<font class="kw">(</font>$tag<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetFont<font class="kw">(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'family'</font><font class="kw">],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'style'</font><font class="kw">],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'size'</font><font class="kw">]);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">=</font>explode<font class="kw">(</font><font class="str">","</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'color'</font><font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>count<font class="kw">(</font>$tab<font class="kw">)==</font>1<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetTextColor<font class="kw">(</font>$tab<font class="kw">[</font>0<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetTextColor<font class="kw">(</font>$tab<font class="kw">[</font>0<font class="kw">],</font>$tab<font class="kw">[</font>1<font class="kw">],</font>$tab<font class="kw">[</font>2<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>FindStyle<font class="kw">(</font>$tag<font class="kw">,</font>$ind<font class="kw">) </font><font class="cmt">// Inheritance from parent elements<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tag<font class="kw">=</font>trim<font class="kw">(</font>$tag<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Family<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'family'</font><font class="kw">]!=</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$family<font class="kw">=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'family'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>reset<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(list(</font>$k<font class="kw">,</font>$val<font class="kw">)=</font>each<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$val<font class="kw">=</font>trim<font class="kw">(</font>$val<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$val<font class="kw">][</font><font class="str">'family'</font><font class="kw">]!=</font><font class="str">""</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$family<font class="kw">=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$val<font class="kw">][</font><font class="str">'family'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Style<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$style1<font class="kw">=</font>strtoupper<font class="kw">(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'style'</font><font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$style1<font class="kw">==</font><font class="str">"N"</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$style<font class="kw">=</font><font class="str">""</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>reset<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(list(</font>$k<font class="kw">,</font>$val<font class="kw">)=</font>each<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$val<font class="kw">=</font>trim<font class="kw">(</font>$val<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$style1<font class="kw">=</font>strtoupper<font class="kw">(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$val<font class="kw">][</font><font class="str">'style'</font><font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$style1<font class="kw">==</font><font class="str">"N"</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>ereg<font class="kw">(</font><font class="str">"B"</font><font class="kw">,</font>$style1<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$style<font class="kw">[</font><font class="str">'b'</font><font class="kw">]=</font><font class="str">"B"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>ereg<font class="kw">(</font><font class="str">"I"</font><font class="kw">,</font>$style1<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$style<font class="kw">[</font><font class="str">'i'</font><font class="kw">]=</font><font class="str">"I"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>ereg<font class="kw">(</font><font class="str">"U"</font><font class="kw">,</font>$style1<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$style<font class="kw">[</font><font class="str">'u'</font><font class="kw">]=</font><font class="str">"U"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$style<font class="kw">=</font>$style<font class="kw">[</font><font class="str">'b'</font><font class="kw">].</font>$style<font class="kw">[</font><font class="str">'i'</font><font class="kw">].</font>$style<font class="kw">[</font><font class="str">'u'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Size<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'size'</font><font class="kw">]!=</font>0<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$size<font class="kw">=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'size'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>reset<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(list(</font>$k<font class="kw">,</font>$val<font class="kw">)=</font>each<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$val<font class="kw">=</font>trim<font class="kw">(</font>$val<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$val<font class="kw">][</font><font class="str">'size'</font><font class="kw">]!=</font>0<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$size<font class="kw">=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$val<font class="kw">][</font><font class="str">'size'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Color<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'color'</font><font class="kw">]!=</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$color<font class="kw">=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'color'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>reset<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(list(</font>$k<font class="kw">,</font>$val<font class="kw">)=</font>each<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$val<font class="kw">=</font>trim<font class="kw">(</font>$val<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$val<font class="kw">][</font><font class="str">'color'</font><font class="kw">]!=</font><font class="str">""</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$color<font class="kw">=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$val<font class="kw">][</font><font class="str">'color'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Result<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$ind<font class="kw">][</font><font class="str">'family'</font><font class="kw">]=</font>$family<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$ind<font class="kw">][</font><font class="str">'style'</font><font class="kw">]=</font>$style<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$ind<font class="kw">][</font><font class="str">'size'</font><font class="kw">]=</font>$size<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$ind<font class="kw">][</font><font class="str">'color'</font><font class="kw">]=</font>$color<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$ind<font class="kw">][</font><font class="str">'indent'</font><font class="kw">]=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tag<font class="kw">][</font><font class="str">'indent'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>Parser<font class="kw">(</font>$text<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">=array();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Closing tag<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(</font>ereg<font class="kw">(</font><font class="str">"^(&lt;/([^&gt;]+)&gt;).*"</font><font class="kw">,</font>$text<font class="kw">,</font>$regs<font class="kw">)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>1<font class="kw">]=</font><font class="str">"c"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>2<font class="kw">]=</font>trim<font class="kw">(</font>$regs<font class="kw">[</font>2<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Opening tag<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">else if(</font>ereg<font class="kw">(</font><font class="str">"^(&lt;([^&gt;]+)&gt;).*"</font><font class="kw">,</font>$text<font class="kw">,</font>$regs<font class="kw">)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$regs<font class="kw">[</font>2<font class="kw">]=</font>ereg_replace<font class="kw">(</font><font class="str">"^a"</font><font class="kw">,</font><font class="str">"a "</font><font class="kw">,</font>$regs<font class="kw">[</font>2<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>1<font class="kw">]=</font><font class="str">"o"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>2<font class="kw">]=</font>trim<font class="kw">(</font>$regs<font class="kw">[</font>2<font class="kw">]);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Presence of attributes<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">if(</font>ereg<font class="kw">(</font><font class="str">"(.+) (.+)='(.+)' *"</font><font class="kw">,</font>$regs<font class="kw">[</font>2<font class="kw">])) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab1<font class="kw">=</font>split<font class="kw">(</font><font class="str">" +"</font><font class="kw">,</font>$regs<font class="kw">[</font>2<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>2<font class="kw">]=</font>trim<font class="kw">(</font>$tab1<font class="kw">[</font>0<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(list(</font>$i<font class="kw">,</font>$couple<font class="kw">)=</font>each<font class="kw">(</font>$tab1<font class="kw">))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$i<font class="kw">&gt;</font>0<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab2<font class="kw">=</font>explode<font class="kw">(</font><font class="str">"="</font><font class="kw">,</font>$couple<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab2<font class="kw">[</font>0<font class="kw">]=</font>trim<font class="kw">(</font>$tab2<font class="kw">[</font>0<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab2<font class="kw">[</font>1<font class="kw">]=</font>trim<font class="kw">(</font>$tab2<font class="kw">[</font>1<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$end<font class="kw">=</font>strlen<font class="kw">(</font>$tab2<font class="kw">[</font>1<font class="kw">])-</font>2<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>$tab2<font class="kw">[</font>0<font class="kw">]]=</font>substr<font class="kw">(</font>$tab2<font class="kw">[</font>1<font class="kw">],</font>1<font class="kw">,</font>$end<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Space<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">else if(</font>ereg<font class="kw">(</font><font class="str">"^( ).*"</font><font class="kw">,</font>$text<font class="kw">,</font>$regs<font class="kw">)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>1<font class="kw">]=</font><font class="str">"s"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>2<font class="kw">]=</font>$regs<font class="kw">[</font>1<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Text<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">else if(</font>ereg<font class="kw">(</font><font class="str">"^([^&lt; ]+).*"</font><font class="kw">,</font>$text<font class="kw">,</font>$regs<font class="kw">)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>1<font class="kw">]=</font><font class="str">"t"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>2<font class="kw">]=</font>trim<font class="kw">(</font>$regs<font class="kw">[</font>1<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="cmt">// Pruning<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$begin<font class="kw">=</font>strlen<font class="kw">(</font>$regs<font class="kw">[</font>1<font class="kw">]);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$end<font class="kw">=</font>strlen<font class="kw">(</font>$text<font class="kw">);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$text<font class="kw">=</font>substr<font class="kw">(</font>$text<font class="kw">, </font>$begin<font class="kw">, </font>$end<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">[</font>0<font class="kw">]=</font>$text<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font>$tab<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>MakeLine<font class="kw">() </font><font class="cmt">// Makes a line<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">.=</font><font class="str">" "</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LineLength<font class="kw">=array();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagHref<font class="kw">=array();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$Length<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>nbSpace<font class="kw">=</font>0<font class="kw">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$i<font class="kw">=</font>$<font class="kw">this-&gt;</font>BeginLine<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagName<font class="kw">=array();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$i<font class="kw">==</font>0<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$Length<font class="kw">=</font>$<font class="kw">this-&gt;</font>StringLength<font class="kw">[</font>0<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagName<font class="kw">[</font>0<font class="kw">]=</font>1<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagHref<font class="kw">[</font>0<font class="kw">]=</font>$<font class="kw">this-&gt;</font>href<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(</font>$Length<font class="kw">&lt;</font>$<font class="kw">this-&gt;</font>wTextLine<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$tab<font class="kw">=</font>$<font class="kw">this-&gt;</font>Parser<font class="kw">(</font>$<font class="kw">this-&gt;</font>Text<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">=</font>$tab<font class="kw">[</font>0<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>Text<font class="kw">==</font><font class="str">""</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LastLine<font class="kw">=</font>true<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$tab<font class="kw">[</font>1<font class="kw">]==</font><font class="str">"o"</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>array_unshift<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">,</font>$tab<font class="kw">[</font>2<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>FindStyle<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">[</font>0<font class="kw">],</font>$i<font class="kw">+</font>1<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>DoStyle<font class="kw">(</font>$i<font class="kw">+</font>1<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagName<font class="kw">[</font>$i<font class="kw">+</font>1<font class="kw">]=</font>1<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tab<font class="kw">[</font>2<font class="kw">]][</font><font class="str">'indent'</font><font class="kw">]!=-</font>1<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$Length<font class="kw">+=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tab<font class="kw">[</font>2<font class="kw">]][</font><font class="str">'indent'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Indent<font class="kw">=</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tab<font class="kw">[</font>2<font class="kw">]][</font><font class="str">'indent'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$tab<font class="kw">[</font>2<font class="kw">]==</font><font class="str">"a"</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>href<font class="kw">=</font>$tab<font class="kw">[</font><font class="str">'href'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$tab<font class="kw">[</font>1<font class="kw">]==</font><font class="str">"c"</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>array_shift<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>FindStyle<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">[</font>0<font class="kw">],</font>$i<font class="kw">+</font>1<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>DoStyle<font class="kw">(</font>$i<font class="kw">+</font>1<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagName<font class="kw">[</font>$i<font class="kw">+</font>1<font class="kw">]=</font>1<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>TagStyle<font class="kw">[</font>$tab<font class="kw">[</font>2<font class="kw">]][</font><font class="str">'indent'</font><font class="kw">]!=-</font>1<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LastLine<font class="kw">=</font>true<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">=</font>trim<font class="kw">(</font>$<font class="kw">this-&gt;</font>Text<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$tab<font class="kw">[</font>2<font class="kw">]==</font><font class="str">"a"</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>href<font class="kw">=</font><font class="str">""</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$tab<font class="kw">[</font>1<font class="kw">]==</font><font class="str">"s"</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$i<font class="kw">++;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$Length<font class="kw">+=</font>$<font class="kw">this-&gt;</font>Space<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">[</font>$i<font class="kw">]=</font><font class="str">""</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>href<font class="kw">!=</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagHref<font class="kw">[</font>$i<font class="kw">]=</font>$<font class="kw">this-&gt;</font>href<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$tab<font class="kw">[</font>1<font class="kw">]==</font><font class="str">"t"</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$i<font class="kw">++;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>StringLength<font class="kw">[</font>$i<font class="kw">]=</font>$<font class="kw">this-&gt;</font>GetStringWidth<font class="kw">(</font>$tab<font class="kw">[</font>2<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$Length<font class="kw">+=</font>$<font class="kw">this-&gt;</font>StringLength<font class="kw">[</font>$i<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LineLength<font class="kw">[</font>$i<font class="kw">]=</font>$Length<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">[</font>$i<font class="kw">]=</font>$tab<font class="kw">[</font>2<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>href<font class="kw">!=</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>TagHref<font class="kw">[</font>$i<font class="kw">]=</font>$<font class="kw">this-&gt;</font>href<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>trim<font class="kw">(</font>$<font class="kw">this-&gt;</font>Text<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$Length<font class="kw">&gt;</font>$<font class="kw">this-&gt;</font>wTextLine <font class="kw">|| </font>$<font class="kw">this-&gt;</font>LastLine<font class="kw">==</font>true<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>EndLine<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>BeginLine<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">=array();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>StringLength<font class="kw">=array();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>FindStyle<font class="kw">(</font>$<font class="kw">this-&gt;</font>PileStyle<font class="kw">[</font>0<font class="kw">],</font>0<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>DoStyle<font class="kw">(</font>0<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>count<font class="kw">(</font>$<font class="kw">this-&gt;</font>NextLineBegin<font class="kw">)&gt;</font>0<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">[</font>0<font class="kw">]=</font>$<font class="kw">this-&gt;</font>NextLineBegin<font class="kw">[</font><font class="str">'text'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>StringLength<font class="kw">[</font>0<font class="kw">]=</font>$<font class="kw">this-&gt;</font>NextLineBegin<font class="kw">[</font><font class="str">'length'</font><font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>NextLineBegin<font class="kw">=array();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$i<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>ereg<font class="kw">(</font><font class="str">"^(( *(&lt;([^&gt;]+)&gt;)* *)*)(.*)"</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>Text<font class="kw">,</font>$regs<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$regs<font class="kw">[</font>1<font class="kw">]=</font>ereg_replace<font class="kw">(</font><font class="str">" "</font><font class="kw">, </font><font class="str">""</font><font class="kw">, </font>$regs<font class="kw">[</font>1<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Text<font class="kw">=</font>$regs<font class="kw">[</font>1<font class="kw">].</font>$regs<font class="kw">[</font>5<font class="kw">];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$i<font class="kw">=-</font>1<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font>$i<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>EndLine<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>end<font class="kw">(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">)!=</font><font class="str">"" </font><font class="kw">&amp;&amp; </font>$<font class="kw">this-&gt;</font>LastLine<font class="kw">==</font>false<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>NextLineBegin<font class="kw">[</font><font class="str">'text'</font><font class="kw">]=</font>array_pop<font class="kw">(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>NextLineBegin<font class="kw">[</font><font class="str">'length'</font><font class="kw">]=</font>end<font class="kw">(</font>$<font class="kw">this-&gt;</font>StringLength<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>array_pop<font class="kw">(</font>$<font class="kw">this-&gt;</font>LineLength<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(</font>end<font class="kw">(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">)==</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>array_pop<font class="kw">(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Delta<font class="kw">=</font>$<font class="kw">this-&gt;</font>wTextLine<font class="kw">-</font>end<font class="kw">(</font>$<font class="kw">this-&gt;</font>LineLength<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>nbSpace<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$i<font class="kw">=</font>0<font class="kw">; </font>$i<font class="kw">&lt;</font>count<font class="kw">(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">); </font>$i<font class="kw">++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">[</font>$i<font class="kw">]===</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>nbSpace<font class="kw">++;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>PrintLine<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>border<font class="kw">==</font>1<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font><font class="str">"LR"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>wLine<font class="kw">,</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">,</font><font class="str">""</font><font class="kw">,</font>$border<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>fill<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$y<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetY<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetXY<font class="kw">(</font>$<font class="kw">this-&gt;</font>Xini<font class="kw">+</font>$<font class="kw">this-&gt;</font>lPadding<font class="kw">,</font>$y<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>Indent<font class="kw">!=-</font>1<font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>Indent<font class="kw">!=</font>0<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>Indent<font class="kw">,</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">,</font><font class="str">""</font><font class="kw">,</font>0<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>0<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Indent<font class="kw">=-</font>1<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$space<font class="kw">=</font>$<font class="kw">this-&gt;</font>LineAlign<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>DoStyle<font class="kw">(</font>0<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</font>$i<font class="kw">=</font>0<font class="kw">; </font>$i<font class="kw">&lt;</font>count<font class="kw">(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">); </font>$i<font class="kw">++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>TagName<font class="kw">[</font>$i<font class="kw">]==</font>1<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>DoStyle<font class="kw">(</font>$i<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">[</font>$i<font class="kw">]==</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$space<font class="kw">,</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">,</font><font class="str">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"</font><font class="kw">,</font>0<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>0<font class="kw">,</font>$<font class="kw">this-&gt;</font>TagHref<font class="kw">[</font>$i<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>StringLength<font class="kw">[</font>$i<font class="kw">],</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">,</font>$<font class="kw">this-&gt;</font>Line2Print<font class="kw">[</font>$i<font class="kw">],</font>0<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>0<font class="kw">,</font>$<font class="kw">this-&gt;</font>TagHref<font class="kw">[</font>$i<font class="kw">]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LineBreak<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>LastLine <font class="kw">&amp;&amp; </font>$<font class="kw">this-&gt;</font>Text<font class="kw">!=</font><font class="str">""</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>EndParagraph<font class="kw">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>LastLine<font class="kw">=</font>false<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>LineAlign<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$space<font class="kw">=</font>$<font class="kw">this-&gt;</font>Space<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>align<font class="kw">==</font><font class="str">"J"</font><font class="kw">) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>nbSpace<font class="kw">!=</font>0<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$space<font class="kw">=</font>$<font class="kw">this-&gt;</font>Space <font class="kw">+ (</font>$<font class="kw">this-&gt;</font>Delta<font class="kw">/</font>$<font class="kw">this-&gt;</font>nbSpace<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>LastLine<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$space<font class="kw">=</font>$<font class="kw">this-&gt;</font>Space<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>align<font class="kw">==</font><font class="str">"R"</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>Delta<font class="kw">,</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">,</font><font class="str">""</font><font class="kw">,</font>0<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>0<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>align<font class="kw">==</font><font class="str">"C"</font><font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>Delta<font class="kw">/</font>2<font class="kw">,</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">,</font><font class="str">""</font><font class="kw">,</font>0<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>0<font class="kw">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font>$space<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>LineBreak<font class="kw">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$x<font class="kw">=</font>$<font class="kw">this-&gt;</font>Xini<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$y<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetY<font class="kw">()+</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetXY<font class="kw">(</font>$x<font class="kw">,</font>$y<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;function </font>EndParagraph<font class="kw">() </font><font class="cmt">// Interline between paragraphs<br>&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="kw">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font>0<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</font>$<font class="kw">this-&gt;</font>border<font class="kw">==</font>1<font class="kw">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$border<font class="kw">=</font><font class="str">"LR"</font><font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>Cell<font class="kw">(</font>$<font class="kw">this-&gt;</font>wLine<font class="kw">,</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">/</font>2<font class="kw">,</font><font class="str">""</font><font class="kw">,</font>$border<font class="kw">,</font>0<font class="kw">,</font><font class="str">'C'</font><font class="kw">,</font>$<font class="kw">this-&gt;</font>fill<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$x<font class="kw">=</font>$<font class="kw">this-&gt;</font>Xini<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$y<font class="kw">=</font>$<font class="kw">this-&gt;</font>GetY<font class="kw">()+</font>$<font class="kw">this-&gt;</font>hLine<font class="kw">/</font>2<font class="kw">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>$<font class="kw">this-&gt;</font>SetXY<font class="kw">(</font>$x<font class="kw">,</font>$y<font class="kw">);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br><br>} </font><font class="cmt">// End of class<br><br><br>// ################################# Script<br><br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>

<H4 CLASS="st">Example</H4>This example is the beginning of "Little Red Riding Hood" by Charles Perrault. Specific styles
are applied to names of persons, of places, and to verbs.<BR>
<BR>
<TABLE WIDTH="100%" STYLE="color:#4040C0; border-style:ridge" BORDERCOLORLIGHT="#B0B0E0" BORDERCOLORDARK="#000000" BORDER="2" CELLPADDING=6 CELLSPACING=0 BGCOLOR="#F0F5FF"><TR><TD style="border-width:0px">
<NOBR><code><font color="#000000">
&lt;?php<br>define<font class="kw">(</font><font class="str">'FPDF_FONTPATH'</font><font class="kw">,</font><font class="str">'font/'</font><font class="kw">);<br>require(</font><font class="str">'WriteTag.php'</font><font class="kw">);<br><br></font>$pdf<font class="kw">=new </font>PDF<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>SetMargins<font class="kw">(</font>30<font class="kw">,</font>15<font class="kw">,</font>25<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetFont<font class="kw">(</font><font class="str">'courier'</font><font class="kw">,</font><font class="str">''</font><font class="kw">,</font>12<font class="kw">);<br><br></font>$pdf<font class="kw">-&gt;</font>Open<font class="kw">();<br></font>$pdf<font class="kw">-&gt;</font>AddPage<font class="kw">();<br><br></font><font class="cmt">// ######################## Stylesheet<br></font>$pdf<font class="kw">-&gt;</font>SetStyle<font class="kw">(</font><font class="str">"p"</font><font class="kw">,</font><font class="str">"courier"</font><font class="kw">,</font><font class="str">"N"</font><font class="kw">,</font>12<font class="kw">,</font><font class="str">"10,100,250"</font><font class="kw">,</font>15<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetStyle<font class="kw">(</font><font class="str">"h1"</font><font class="kw">,</font><font class="str">"times"</font><font class="kw">,</font><font class="str">"N"</font><font class="kw">,</font>18<font class="kw">,</font><font class="str">"102,0,102"</font><font class="kw">,</font>0<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetStyle<font class="kw">(</font><font class="str">"a"</font><font class="kw">,</font><font class="str">"times"</font><font class="kw">,</font><font class="str">"BU"</font><font class="kw">,</font>9<font class="kw">,</font><font class="str">"0,0,255"</font><font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetStyle<font class="kw">(</font><font class="str">"pers"</font><font class="kw">,</font><font class="str">"times"</font><font class="kw">,</font><font class="str">"I"</font><font class="kw">,</font>0<font class="kw">,</font><font class="str">"255,0,0"</font><font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetStyle<font class="kw">(</font><font class="str">"place"</font><font class="kw">,</font><font class="str">"arial"</font><font class="kw">,</font><font class="str">"U"</font><font class="kw">,</font>0<font class="kw">,</font><font class="str">"153,0,0"</font><font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetStyle<font class="kw">(</font><font class="str">"vb"</font><font class="kw">,</font><font class="str">"times"</font><font class="kw">,</font><font class="str">"B"</font><font class="kw">,</font>0<font class="kw">,</font><font class="str">"102,153,153"</font><font class="kw">);<br><br></font><font class="cmt">// ######################### Title<br></font>$txt<font class="kw">=</font><font class="str">"&lt;h1&gt;Le petit chaperon rouge&lt;/h1&gt;"</font><font class="kw">;<br></font>$pdf<font class="kw">-&gt;</font>SetLineWidth<font class="kw">(</font>0.5<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetFillColor<font class="kw">(</font>255<font class="kw">,</font>255<font class="kw">,</font>204<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetDrawColor<font class="kw">(</font>102<font class="kw">,</font>0<font class="kw">,</font>102<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>WriteTag<font class="kw">(</font>0<font class="kw">,</font>10<font class="kw">,</font>$txt<font class="kw">,</font>1<font class="kw">,</font><font class="str">"C"</font><font class="kw">,</font>1<font class="kw">,</font>5<font class="kw">);<br><br></font>$pdf<font class="kw">-&gt;</font>Ln<font class="kw">(</font>15<font class="kw">);<br><br></font><font class="cmt">// ######################### Text<br></font>$txt<font class="kw">=</font><font class="str">" <br>&lt;p&gt;Il &lt;vb&gt;tait&lt;/vb&gt; une fois &lt;pers&gt;une petite fille&lt;/pers&gt; de &lt;place&gt;village&lt;/place&gt;, <br>la plus jolie qu'on &lt;vb&gt;et su voir&lt;/vb&gt;: &lt;pers&gt;sa mre&lt;/pers&gt; en &lt;vb&gt;tait&lt;/vb&gt; <br>folle, et &lt;pers&gt;sa mre grand&lt;/pers&gt; plus folle encore. Cette &lt;pers&gt;bonne femme&lt;/pers&gt; <br>lui &lt;vb&gt;fit faire&lt;/vb&gt; un petit chaperon rouge, qui lui &lt;vb&gt;seyait&lt;/vb&gt; si bien <br>que par tout on &lt;vb&gt;l'appelait&lt;/vb&gt; &lt;pers&gt;le petit Chaperon rouge&lt;/pers&gt;.&lt;/p&gt; <br><br>&lt;p&gt;Un jour &lt;pers&gt;sa mre&lt;/pers&gt; &lt;vb&gt;ayant cuit&lt;/vb&gt; et &lt;vb&gt;fait&lt;/vb&gt; des galettes, <br>&lt;vb&gt;lui dit&lt;/vb&gt;:  &lt;vb&gt;Va voir&lt;/vb&gt; comment &lt;vb&gt;se porte&lt;/vb&gt; &lt;pers&gt;la mre-grand&lt;/pers&gt;; <br>car on &lt;vb&gt;m'a dit&lt;/vb&gt; qu'elle &lt;vb&gt;tait&lt;/vb&gt; malade: &lt;vb&gt;porte-lui&lt;/vb&gt; une <br>galette et ce petit pot de beurre. &lt;/p&gt;<br> <br>&lt;p&gt;&lt;pers&gt;Le petit Chaperon rouge&lt;/pers&gt; &lt;vb&gt;partit&lt;/vb&gt; aussitt pour &lt;vb&gt;aller&lt;/vb&gt; <br>chez &lt;pers&gt;sa mre-grand&lt;/pers&gt;, qui &lt;vb&gt;demeurait&lt;/vb&gt; dans &lt;place&gt;un autre village&lt;/place&gt;. <br>En passant dans &lt;place&gt;un bois&lt;/place&gt;, elle &lt;vb&gt;rencontra&lt;/vb&gt; compre &lt;pers&gt;le <br>Loup&lt;/pers&gt;, qui &lt;vb&gt;eut bien envie&lt;/vb&gt; de &lt;vb&gt;la manger&lt;/vb&gt;; mais il &lt;vb&gt;n'osa&lt;/vb&gt; <br> cause de quelques &lt;pers&gt;bcherons&lt;/pers&gt; qui &lt;vb&gt;taient&lt;/vb&gt; dans <br>&lt;place&gt;la fort&lt;/place&gt;.&lt;/p&gt;<br>"</font><font class="kw">;<br><br></font>$pdf<font class="kw">-&gt;</font>SetLineWidth<font class="kw">(</font>0.1<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetFillColor<font class="kw">(</font>255<font class="kw">,</font>255<font class="kw">,</font>204<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>SetDrawColor<font class="kw">(</font>102<font class="kw">,</font>0<font class="kw">,</font>102<font class="kw">);<br></font>$pdf<font class="kw">-&gt;</font>WriteTag<font class="kw">(</font>0<font class="kw">,</font>10<font class="kw">,</font>$txt<font class="kw">,</font>1<font class="kw">,</font><font class="str">"J"</font><font class="kw">,</font>0<font class="kw">,</font>7<font class="kw">);<br><br></font>$pdf<font class="kw">-&gt;</font>Ln<font class="kw">(</font>5<font class="kw">);<br><br></font><font class="cmt">// ############################# Signature<br></font>$txt<font class="kw">=</font><font class="str">"&lt;a href='http://www.pascal-morin.net'&gt;Done by Pascal MORIN&lt;/a&gt;"</font><font class="kw">;<br></font>$pdf<font class="kw">-&gt;</font>WriteTag<font class="kw">(</font>0<font class="kw">,</font>10<font class="kw">,</font>$txt<font class="kw">,</font>0<font class="kw">,</font><font class="str">"R"</font><font class="kw">);<br><br></font>$pdf<font class="kw">-&gt;</font>Output<font class="kw">();<br></font>?&gt;
</font>
</code></NOBR></TD></TR></TABLE>
<BR>
View the result <A HREF="ex23.pdf" TARGET="_blank">here</A>.
<H4 CLASS="st">Download</H4><A HREF="script23.zip">ZIP</A> | <A HREF="script23.tgz">TGZ</A>
</BODY>
</HTML>
