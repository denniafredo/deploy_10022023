<?php
    /*
    * API file untuk aplikasi jaim
    * method untuk data top agen award
    */
    require_once 'includes/config.php';
    require_once 'includes/database.php';

	$r	= isset($_GET['r']) ? $_GET['r'] : '';
	$p	= isset($_GET['p']) ? $_GET['p'] : '';
	$p2 = isset($_GET['p2']) ? $_GET['p2'] : '';

    $DB = new Database(C_USER_DB_JLINDO, C_PASS_DB_JLINDO, C_DB_JLINDO);

    $agen = array('0000014008','0000063990','0000001067','0000056961','0000064662','0000000148','0000041184','0000018851',
                  '0000013841','0000023724','0000034517','0000051440','0000007946','0000057009','0000003824','0000003783',
                  '0000056578','0000043459','0000056583','0000028398','0000023328','0000003569','0000003291','0000043897',
                  '0000030145','0000011119','0000051848','0000056713','0000008341','0000002896','0000060534','0000030987',
                  '0000061802','0000028154','0000002072','0000002142','0000005110','0000002175','0000021756','0000005234',
                  '0000056671','0000044500','0000005522','0000008615','0000047842','0000001637','0000062247','0000026706',
                  '0000039348','0000058491','0000042753','0000059385','0000057166','0000059615','0000058615','0000001395',
                  '0000007874','0000061713','0000019815','0000000699','0000032288','0000042558','0000000730','0000021173',
                  '0000000334','0000009785','0000051456','0011300167');
    //$agen = array('0011300167'); // Ini hanya untuk testing
    $barcode = array(
        '0000014008' => array('0000014008','9886234001','MUNAWAR AHMAD','AREA MANAGER'),
        '0000018851' => array('0000018851','9886234002','AI SITI HAJAR','AREA MANAGER'),
        '0000013841' => array('0000013841','9886234003','ASEP PURNAMA,SH','AREA MANAGER'),
        '0000003824' => array('0000003824','9886234004','BAMBANG AGUS HARIYONO','AREA MANAGER'),
        '0000028398' => array('0000028398','9886234005','ALFARUK','AREA MANAGER'),
        '0000003291' => array('0000003291','9886234006','JUMIYEM','AREA MANAGER'),
        '0000051848' => array('0000051848','9886234007','RASYID','AREA MANAGER'),
        '0000030987' => array('0000030987','9886234008','LINCE S. SARUNGALLO','AREA MANAGER'),
        '0000002072' => array('0000002072','9886234009','IR. NORSETIA, ','AREA MANAGER'),
        '0000005234' => array('0000005234','9886234010','EMIRENSIANA BOTU W.','AREA MANAGER'),
        '0000001637' => array('0000001637','9886234011','TINCE ALBERTINA BUHA','AREA MANAGER'),
        '0000007874' => array('0000007874','9886234012','SRI LESTARI, SPd','AREA MANAGER'),
        '0000000699' => array('0000000699','9886234013','JUHARIAH','AREA MANAGER'),
        '0000032288' => array('0000032288','9886234014','MONICA MONALISA GINTING','AREA MANAGER'),
        '0000000334' => array('0000000334','9886234015','ERLIS SUSILOWATI, AMD','AREA MANAGER'),
        '0000041184' => array('0000041184','9887234001','JUNIARSO PRIBADI','AREA MANAGER PK'),
        '0000023724' => array('0000023724','9887234002','RUHIMAN','AREA MANAGER PK'),
        '0000041249' => array('0000041249','9888344001','BAMBANG HARSONO','BSM'),
        '0000056671' => array('0000056671','9889255001','PUTU EKA KRISNADEWI','BSO'),
        '0000059385' => array('0000059385','9889255002','ENDAH RIZKIYANTI','BSO'),
        '0000057166' => array('0000057166','9889255003','SRI WAHYUNINGSIH','BSO'),
        '0000059615' => array('0000059615','9889255004','YOSSIE TRY HENDRICO','BSO'),
        '0000063990' => array('0000063990','9668321001','ANDREAS BANGUN MULYA','MARKETING ASSOCIATE'),
        '0000064662' => array('0000064662','9668321002','M. ZAKARIA RAFIQ','MARKETING ASSOCIATE'),
        '0000034517' => array('0000034517','9668321003','ARIE FEBRYANA','MARKETING ASSOCIATE'),
        '0000051440' => array('0000051440','9668321004','AGUS SETIAWAN','MARKETING ASSOCIATE'),
        '0000003783' => array('0000003783','9668321005','BUDI WIJAYA SAKTI','MARKETING ASSOCIATE'),
        '0000023328' => array('0000023328','9668321006','WINARTI, SE','MARKETING ASSOCIATE'),
        '0000043897' => array('0000043897','9668321007','PONIASIH','MARKETING ASSOCIATE'),
        '0000056713' => array('0000056713','9668321008','SRIANI AMD','MARKETING ASSOCIATE'),
        '0000008341' => array('0000008341','9668321009','JAROKKI SIAGIAN','MARKETING ASSOCIATE'),
        '0000061802' => array('0000061802','9668321010','NOVEL HASAN','MARKETING ASSOCIATE'),
        '0000002142' => array('0000002142','9668321011','H. BASUNI','MARKETING ASSOCIATE'),
        '0000005110' => array('0000005110','9668321012','H. BANDI EFENDI','MARKETING ASSOCIATE'),
        '0000044500' => array('0000044500','9668321013','YOSEFINA SERAN','MARKETING ASSOCIATE'),
        '0000062247' => array('0000062247','9668321014','LIDYA G. WALUKOW','MARKETING ASSOCIATE'),
        '0000026706' => array('0000026706','9668321015','MARIANIE PANGKEY','MARKETING ASSOCIATE'),
        '0000058615' => array('0000058615','9668321016','BUSTAM KOMARUDIN','MARKETING ASSOCIATE'),
        '0000061713' => array('0000061713','9668321017','BENNY KUSHARDIYANTO','MARKETING ASSOCIATE'),
        '0000042558' => array('0000042558','9668321018','IIN NOVITA','MARKETING ASSOCIATE'),
        '0000021173' => array('0000021173','9668321019','BAMBANG AGUS SUMARJONO, SH, AAAIJ','MARKETING ASSOCIATE'),
        '0000056961' => array('0000056961','9667243001','SRI HASTA HARIJADI','MARKETING ASSOCIATE PK'),
        '0000056578' => array('0000056578','9667243002','TRI SULIYATININGSIH','MARKETING ASSOCIATE PK'),
        '0000030145' => array('0000030145','9667243003','AFRITA MONALISA','MARKETING ASSOCIATE PK'),
        '0000002175' => array('0000002175','9667243004','ELFRIDA SIMATUPANG','MARKETING ASSOCIATE PK'),
        '0000000148' => array('0000000148','9775234001','SARMIYATI','UNIT MANAGER'),
        '0000007946' => array('0000007946','9775234002','NELIS SETIANINGSIH','UNIT MANAGER'),
        '0000057009' => array('0000057009','9775234003','DIDIN WAHYUDIN','UNIT MANAGER'),
        '0000043459' => array('0000043459','9775234004','FC RENNY SETIAWATI','UNIT MANAGER'),
        '0000003569' => array('0000003569','9775234005','WINDIYAH PUJI A','UNIT MANAGER'),
        '0000011119' => array('0000011119','9775234006','HUSBANTI','UNIT MANAGER'),
        '0000002896' => array('0000002896','9775234007','ASTANA SEMBIRING','UNIT MANAGER'),
        '0000060534' => array('0000060534','9775234008','HOZIATI','UNIT MANAGER'),
        '0000028154' => array('0000028154','9775234009','RUSNI HARUN','UNIT MANAGER'),
        '0000021756' => array('0000021756','9775234010','FITRIANNY,SE','UNIT MANAGER'),
        '0000005522' => array('0000005522','9775234011','NI KETUT SRI WARTINI','UNIT MANAGER'),
        '0000008615' => array('0000008615','9775234012','NURAINI M. SALEH','UNIT MANAGER'),
        '0000047842' => array('0000047842','9775234013','ALFESIUS EKI','UNIT MANAGER'),
        '0000039348' => array('0000039348','9775234014','IMELDA UMAR','UNIT MANAGER'),
        '0000058491' => array('0000058491','9775234015','FITRI Y. LAGARUTU','UNIT MANAGER'),
        '0000042753' => array('0000042753','9775234016','ABD WAHID A. ANTU ','UNIT MANAGER'),
        '0000001395' => array('0000001395','9775234017','ELSA R.HUTABARAT','UNIT MANAGER'),
        '0000019815' => array('0000019815','9775234018','MUJIBUR RAHMAN','UNIT MANAGER'),
        '0000000730' => array('0000000730','9775234019','RUSNITA','UNIT MANAGER'),
        '0000009785' => array('0000009785','9775234020','ENY WIDIASTUTI','UNIT MANAGER'),
        '0000051456' => array('0000051456','9775234021','ALIP FANDHOLI','UNIT MANAGER'),
        '0000001067' => array('0000001067','9776332001','H.A.SUPIANSURI','UNIT MANAGER PK'),
        '0000056583' => array('0000056583','9776332002','KRISTIYANTO HERIAWAN','UNIT MANAGER PK'),
        '10700334' => array('10700334','3201708001','RACHMAT SETIAWAN','KEPALA CABANG'),
        '11504431' => array('11504431','3201708002','MARTINUS BAIT','KEPALA CABANG'),
        '10700219' => array('10700219','3201708003','LINDAWATI TOBING','KEPALA CABANG'),
        '11605651' => array('11605651','3201708004','ARIFIN HALILULLAH','KEPALA CABANG'),
        '10255369' => array('10255369','3201708005','BARON RUSWANDI','KEPALA CABANG'),
        '10555366' => array('10555366','3201708006','RACHEL AYOMI','KEPALA CABANG'),
        '11504413' => array('11504413','3201708007','THOMAS MALAFU','KEPALA CABANG'),
        '11301199' => array('11301199','3201708008','HENDRA PATILIMA','KEPALA CABANG'),
        '10700235' => array('10700235','3201708009','I MADE SUPARWAN','KEPALA CABANG'),
        '11402748' => array('11402748','3201708010','ISMAIL','KEPALA CABANG'),
        '11100621' => array('11100621','3201708011','SUWITNO','KEPALA KANTOR WILAYAH'),
        '18647404' => array('18647404','3201708012','DWI YANTO','KEPALA KANTOR WILAYAH'),
        '19350738' => array('19350738','3201708013','I NYOMAN SURATA','KEPALA KANTOR WILAYAH'),
        '19354306' => array('19354306','3201708014','SULIK HARSONO','KEPALA KANTOR WILAYAH'),
        '11000494' => array('11000494','3201708015','LUCIE ONDANG','KEPALA KANTOR WILAYAH'),
        '10253185' => array('10253185','3201708016','G. AGUNG NUGRAHA SUSANTA','KEPALA KANTOR WILAYAH'),
        '11402819' => array('11402819','3201708017','ELDIN RIZAL NASUTION','KEPALA PUSAT'),
        '19648351' => array('19648351','3201708018','SARIPUDIN','KEPALA DIVISI'),
        '19948777' => array('19948777','3201708019','BUDDY NUGRAHA','KEPALA DIVISI'),
        '18541243' => array('18541243','3201708020','ERRY SYAFRUDDIN','KEPALA DIVISI'),
        '19950286' => array('19950286','3201708021','UDHI PRASETYANTO','KEPALA DIVISI'),
        '18233510' => array('18233510','3201708022','SUMARSONO','KEPALA DIVISI'),
        '40000005' => array('40000005','3101708002','HARY PRASETYO','DIREKTUR KEUANGAN'),
        '40000006' => array('40000006','3101708003','DE YONG ADRIAN','DIREKTUR PEMASARAN'),
        '40000007' => array('40000007','3101708004','MUHAMAD ZAMKHANI','DIREKTUR UMUM DAN SDM'),
        '40000004' => array('40000004','3101708001','HENDRISMAN RAHIM','DIREKTUR UTAMA'),
        '19446889' => array('19446889','3201708027','DANANG SURYONO','GENERAL MANAGER OPERASIONAL DAN PELAYANAN'),
        '18439471' => array('18439471','3201708028','SYAHMIRWAN','GENERAL MANAGER PRODUKSI DAN KEUANGAN'),
        '18234633' => array('18234633','3201708029','I PUTU SUTAMA','GENERAL MANAGER TEKNIK'),
        '18646477' => array('18646477','3201708030','DIDY SUKADI','INSTRUKTUR LPPA'),
        '10401358' => array('10401358','3201708031','RAULI','KETUA LPPA'),
        '10253631' => array('10253631','3201708032','YUNITA DIAN SUWANDARI','KEPALA SEKSI EVALUASI KEAGENAN'),
        '11604714' => array('11604714','3201708033','ANNISA AMIRA','PEGAWAI ADMINISTRASI SEKSI KESEJAHTERAAN KEAGENAN'),
        '11604741' => array('11604741','3201708034','BAGAS ADI PRABOWO','PEGAWAI ADMINISTRASI SEKSI SERTIFIKASI DAN LISENSI KEAGENAN'),
        '11300514' => array('11300514','3201708035','REDITAMA KUSUMA HAKIM','KEPALA SEKSI KOMPENSASI KEAGENAN'),
        '11100732' => array('11100732','3201708036','SUMITRA','PEJABAT FUNGSIONAL TK V A BAGIAN PENGEMBANGAN DAN PEMELIHARAAN SISTEM'),
        '11604732' => array('11604732','3201708037','FIKKI NURCAHYO','PEGAWAI ADMINISTRASI SEKSI BASIS DATA KEAGENAN'),
        '11402070' => array('11402070','3201708038','INNDY ASTRIANDHANI ','PEGAWAI ADMINISTRASI SEKSI EVALUASI PENJUALAN DAN INKASO'),
        '10401697' => array('10401697','3201708039','BENU ADI SUASONO','KEPALA BAGIAN OPERASIONAL DAN PENJUALAN'),
        '11300038' => array('11300038','3201708040','ERNESTH PASARIBU','INSTRUKTUR KANTOR WILAYAH'),
        '11200938' => array('11200938','3201708041','ARIF ROMIANTO HUTASOIT','KEPALA SEKSI ADMINISTRASI PEMASARAN'),
        '11604750' => array('11604750','3201708042','YAN KARDA SIREGAR','PEGAWAI ADMINISTRASI SEKSI STRATEGI PEMASARAN'),
        '11200012' => array('11200012','3201708043','EGGIE HERDIANTO','KEPALA SEKSI KOMUNIKASI PEMASARAN DAN PROMOSI'),
        '11300647' => array('11300647','3201708044','FADHIE PERDANA NURHAKIM','KEPALA SEKSI PENGELOLAAN DANA UNIT LINK'),
        '11201128' => array('11201128','3201708045','GALIH WISHNU WARDHANA','KEPALA SEKSI LAPORAN KEUANGAN NASIONAL'),
        '10253524' => array('10253524','3201708046','DICKY KURNIAWAN','KEPALA DIVISI'),
        '19950260' => array('19950260','3201708047','AGUSTIN WIDHIASTUTI','KEPALA DIVISI'),
        '10050441' => array('10050441','3201708048','ARI FAIZAL ALIAINI','KEPALA DIVISI'),
        '10050359' => array('10050359','3201708049','ISWARDI','KEPALA DIVISI'),
        '19546894' => array('19546894','3201708050','UMI RATIH','KEPALA DIVISI'),
        '19949924' => array('19949924','3201708051','LUSIANA','KEPALA DIVISI'),
        '19948686' => array('19948686','3201708052','BUDIYONO','KEPALA DIVISI'),
        '19748284' => array('19748284','3201708053','SUPARDI SUDIRO','KEPALA DIVISI'),
        '18232850' => array('18232850','3201708054','DAFRAS','KEPALA DIVISI'),
        '18650764' => array('18650764','3201708055','EDDY SUTANTO','KEPALA KANTOR WILAYAH'),
        '10255270' => array('10255270','3201708056','SRI LESTARI','KEPALA KANTOR WILAYAH'),
        '17719493' => array('17719493','3201708057','ADI SUSANTO','KEPALA KANTOR WILAYAH'),
        '18652110' => array('18652110','3201708058','KARMANTO','KEPALA KANTOR WILAYAH'),
        '19950104' => array('19950104','3201708059','LEONARD TAMBUNAN','KEPALA KANTOR WILAYAH'),
        '10700226' => array('10700226','3201708060','ROTUA PASARIBU','KEPALA KANTOR WILAYAH'),
        '18233411' => array('18233411','3201708061','YAN SUDIARTO','KEPALA KANTOR WILAYAH'),
        '10255314' => array('10255314','3201708062','DWI LAKSITO','KEPALA KANTOR WILAYAH'),
        '0011300167' => array('0011300167', '3201708062','GIDEON', 'KEPALA SEKSI') // Ini hanya untuk testing
    );

    /*===== Cek data agen apakah agen tersebut diundang =====*/
    if (strcasecmp($r, '1') == 0) {
        error_reporting(0);

        if (in_array($p, $agen)) {
            echo 1;
        } else {
            echo 0;
        }
    }

    /*===== Cek data kode invitasi berdasarkan no agen / no pegawai =====*/
    else if (strcasecmp($r, '2') == 0) {
        error_reporting(0);

        echo json_encode($barcode[$p]);
    }
?>